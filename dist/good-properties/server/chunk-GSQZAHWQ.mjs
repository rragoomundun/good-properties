import './polyfills.server.mjs';
import{b as Q,c as X,d as Z,g as tt,h as et,k as it,l as nt,o as ot,p as rt}from"./chunk-KHHOXYGC.mjs";import{a as v}from"./chunk-BDFF7HA3.mjs";import{a as W}from"./chunk-BEWL7WZG.mjs";import{d as L,f as k,g as $,h as y,i as _,j as U,m as V,n as j,t as H}from"./chunk-BYJCX5FD.mjs";import{g as D,h as S,n as T,o as h}from"./chunk-TFWXTRYT.mjs";import{Ab as c,Ca as i,Da as g,Ma as I,Oa as d,Qa as O,S as F,Sa as E,Wa as n,Xa as s,Ya as a,Z as C,Za as N,_ as G,_b as q,cb as x,db as f,ga as b,ha as w,ob as l,pb as B,qb as m,tc as z,ub as A,vb as M,vc as J,wc as K,yc as P,zb as p}from"./chunk-NYYUEVQ5.mjs";import"./chunk-5XUXGTUW.mjs";var st=(()=>{class t{router;constructor(o){this.router=o}get tab(){return this.router.url.split("/")[2].split("?")[0]}static \u0275fac=function(e){return new(e||t)(g(J))};static \u0275cmp=C({type:t,selectors:[["app-settings"]],standalone:!0,features:[A],decls:25,vars:18,consts:[["id","main-container",1,"main-container-top-margin"],[1,"row"],[1,"col-12","col-sm-4"],[1,"container"],[1,"nav","flex-column","nav-pills"],["routerLink","/settings/account",1,"nav-link"],[1,"fa-solid","fa-user-circle"],["routerLink","/settings/contact",1,"nav-link"],[1,"fa-regular","fa-address-book"],["routerLink","/settings/delete",1,"nav-link"],[1,"fa-solid","fa-trash"],[1,"col-12","col-sm-8"],[1,"d-block","d-sm-none"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"h1"),l(2),p(3,"translate"),s(),a(4,"hr"),n(5,"div",1)(6,"div",2)(7,"div",3)(8,"div",4)(9,"a",5),a(10,"span",6),l(11),p(12,"translate"),s(),n(13,"a",7),a(14,"span",8),l(15),p(16,"translate"),s(),n(17,"a",9),a(18,"span",10),l(19),p(20,"translate"),s()()()(),n(21,"div",11),a(22,"hr",12),n(23,"div",3),a(24,"router-outlet"),s()()()()),e&2&&(i(2),B(c(3,10,"SETTINGS")),i(7),O("active",r.tab==="account"),i(2),m("\xA0 ",c(12,12,"PAGES.SETTINGS.TABS.ACCOUNT.NAME")," "),i(2),O("active",r.tab==="contact"),i(2),m("\xA0 ",c(16,14,"PAGES.SETTINGS.TABS.CONTACT.NAME")," "),i(2),O("active",r.tab==="delete"),i(2),m("\xA0 ",c(20,16,"PAGES.SETTINGS.TABS.DELETE_ACCOUNT.NAME")," "))},dependencies:[h,T,P,z,K]})}return t})();var at=t=>t.settingsAccountEmail,lt=S(at,t=>t.status),pt=S(at,t=>t.errors),ct=t=>t.settingsAccountPassword,mt=S(ct,t=>t.status),dt=S(ct,t=>t.errors),ut=t=>t.settingsAccountContact,St=S(ut,t=>t.status),Et=S(ut,t=>t.errors),It=t=>t.settingsAccountDelete,ft=S(It,t=>t.status);var Ct=()=>["PENDING","ERROR","SUCCESS"];function xt(t,u){t&1&&(n(0,"p",4),l(1),p(2,"translate"),s()),t&2&&(i(),m(" ",c(2,1,"PAGES.SETTINGS.TABS.ACCOUNT.SUCCESS.EMAIL")," "))}function Dt(t,u){if(t&1){let o=N();n(0,"button",6),x("click",function(){b(o);let r=f();return w(r.onModifyEmailClick())}),l(1),p(2,"translate"),s()}if(t&2){let o=f();d("disabled",o.emailForm.valid===!1),i(),m(" ",c(2,2,"MODIFY")," ")}}function Mt(t,u){t&1&&(n(0,"button",5),a(1,"span",7),l(2),p(3,"translate"),s()),t&2&&(d("disabled",!0),i(2),m(" ",c(3,2,"MODIFYING")," "))}function Pt(t,u){t&1&&(n(0,"p",4),l(1),p(2,"translate"),s()),t&2&&(i(),m(" ",c(2,1,"PAGES.SETTINGS.TABS.ACCOUNT.SUCCESS.PASSWORD")," "))}function yt(t,u){if(t&1){let o=N();n(0,"button",6),x("click",function(){b(o);let r=f();return w(r.onModifyPasswordClick())}),l(1),p(2,"translate"),s()}if(t&2){let o=f();d("disabled",o.passwordForm.valid===!1),i(),m(" ",c(2,2,"MODIFY")," ")}}function Rt(t,u){t&1&&(n(0,"button",5),a(1,"span",7),l(2),p(3,"translate"),s()),t&2&&(d("disabled",!0),i(2),m(" ",c(3,2,"MODIFYING")," "))}var Tt=(()=>{class t{store;email$;emailStatus$;emailErrors$;passwordStatus$;passwordErrors$;emailStatus;emailErrors;passwordStatus;passwordErrors;emailForm;passwordForm;constructor(o){this.store=o,this.emailForm=new y({email:new _("",[L.required])}),this.passwordForm=new y({password:new _("",[L.required]),repeatedPassword:new _("",[L.required])}),this.email$=this.store.select(Q),this.emailStatus$=this.store.select(lt),this.emailErrors$=this.store.select(pt),this.passwordStatus$=this.store.select(mt),this.passwordErrors$=this.store.select(dt),this.email$.subscribe(e=>this.emailForm.controls.email.setValue(e)),this.emailStatus$.subscribe(e=>this.emailStatus=e),this.emailErrors$.subscribe(e=>this.emailErrors=e),this.passwordStatus$.subscribe(e=>this.passwordStatus=e),this.passwordErrors$.subscribe(e=>this.passwordErrors=e)}ngOnInit(){this.store.dispatch(X()),this.store.dispatch(tt())}get emailError(){return v.getInputError("ERRORS.EMAIL.",this.emailErrors,["INVALID_EMAIL","EMAIL_IN_USE"])}get passwordError(){return v.getInputError("ERRORS.PASSWORD.",this.passwordErrors,["PASSWORD_MIN_LENGTH"])}get repeatedPasswordError(){return v.getInputError("ERRORS.REPEATED_PASSWORD.",this.passwordErrors,["REPEATED_PASSWORD_NO_MATCH"])}onModifyEmailClick(){this.store.dispatch(Z({email:this.emailForm.controls.email.value}))}onModifyPasswordClick(){let{password:o,repeatedPassword:e}=this.passwordForm.value;this.store.dispatch(et({password:o,repeatedPassword:e}))}static \u0275fac=function(e){return new(e||t)(g(D))};static \u0275cmp=C({type:t,selectors:[["app-settings-account"]],standalone:!0,features:[A],decls:17,vars:26,consts:[[3,"formGroup"],[1,"mb-3"],[3,"id","icon","label","type","formControlName","error"],[1,"text-end"],[1,"text-success"],[1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fa-solid","fa-spinner","fa-spin"]],template:function(e,r){e&1&&(n(0,"form",0)(1,"div",1),a(2,"app-input",2),s(),n(3,"div",3),I(4,xt,3,3,"p",4)(5,Dt,3,4,"button",5)(6,Mt,4,4,"button",5),s()(),a(7,"hr"),n(8,"form",0)(9,"div",1),a(10,"app-input",2),s(),n(11,"div",1),a(12,"app-input",2),s(),n(13,"div",3),I(14,Pt,3,3,"p",4)(15,yt,3,4,"button",5)(16,Rt,4,4,"button",5),s()()),e&2&&(d("formGroup",r.emailForm),i(2),d("id","email-input")("icon","fa-solid fa-envelope")("label","EMAIL")("type","email")("formControlName","email")("error",r.emailError),i(2),E(r.emailStatus==="SUCCESS"?4:-1),i(),E(M(24,Ct).includes(r.emailStatus)?5:6),i(3),d("formGroup",r.passwordForm),i(2),d("id","password-input")("icon","fa-solid fa-lock")("label","PASSWORD")("type","password")("formControlName","password")("error",r.passwordError),i(2),d("id","repeated-password-input")("icon","fa-solid fa-lock")("label","REPEAT_PASSWORD")("type","password")("formControlName","repeatedPassword")("error",r.repeatedPasswordError),i(2),E(r.passwordStatus==="SUCCESS"?14:-1),i(),E(M(25,Ct).includes(r.passwordStatus)?15:16))},dependencies:[h,T,H,U,k,$,V,j,W]})}return t})();var ht=t=>t.contact,_t=S(ht,t=>t.contact),ie=S(ht,t=>t.status);var Ft=()=>["PENDING","ERROR","SUCCESS"];function Gt(t,u){t&1&&(n(0,"p",4),l(1),p(2,"translate"),s()),t&2&&(i(),m(" ",c(2,1,"PAGES.SETTINGS.TABS.CONTACT.SUCCESS")," "))}function Ot(t,u){if(t&1){let o=N();n(0,"button",7),x("click",function(){b(o);let r=f();return w(r.onModifyClick())}),l(1),p(2,"translate"),s()}t&2&&(i(),m(" ",c(2,1,"MODIFY")," "))}function Bt(t,u){t&1&&(n(0,"button",6),a(1,"span",8),l(2),p(3,"translate"),s()),t&2&&(d("disabled",!0),i(2),m(" ",c(3,2,"MODIFYING")," "))}var vt=(()=>{class t{store;contact$;status$;errors$;status;errors;contactForm;constructor(o){this.store=o,this.contactForm=new y({email:new _(""),telephone:new _(""),whatsapp:new _("")}),this.contact$=this.store.select(_t),this.status$=this.store.select(St),this.errors$=this.store.select(Et),this.contact$.subscribe(e=>{this.contactForm.controls.email.setValue(e?.email),this.contactForm.controls.telephone.setValue(e?.telephone),this.contactForm.controls.whatsapp.setValue(e?.whatsapp)}),this.status$.subscribe(e=>this.status=e),this.errors$.subscribe(e=>this.errors=e)}get emailError(){return v.getInputError("ERRORS.EMAIL.",this.errors,["INVALID_EMAIL"])}get telephoneError(){return v.getInputError("ERRORS.TELEPHONE.",this.errors,["NUMBER_ONLY","NUMBER_LENGTH"],"telephone")}get whatsappError(){return v.getInputError("ERRORS.TELEPHONE.",this.errors,["NUMBER_ONLY","NUMBER_LENGTH"],"whatsapp")}ngOnInit(){this.store.dispatch(it())}onModifyClick(){this.store.dispatch(nt(this.contactForm.value))}static \u0275fac=function(e){return new(e||t)(g(D))};static \u0275cmp=C({type:t,selectors:[["app-settings-contact"]],standalone:!0,features:[A],decls:11,vars:22,consts:[[3,"formGroup"],[1,"mb-3"],[3,"id","icon","label","type","formControlName","error"],[1,"text-end"],[1,"text-success"],[1,"btn","btn-primary"],[1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-primary",3,"click"],[1,"fa-solid","fa-spinner","fa-spin"]],template:function(e,r){e&1&&(n(0,"form",0)(1,"div",1),a(2,"app-input",2),s(),n(3,"div",1),a(4,"app-input",2),s(),n(5,"div",1),a(6,"app-input",2),s(),n(7,"div",3),I(8,Gt,3,3,"p",4)(9,Ot,3,3,"button",5)(10,Bt,4,4,"button",6),s()()),e&2&&(d("formGroup",r.contactForm),i(2),d("id","email-input")("icon","fa-solid fa-envelope")("label","EMAIL")("type","email")("formControlName","email")("error",r.emailError),i(2),d("id","telephone-input")("icon","fa-solid fa-phone")("label","TELEPHONE")("type","text")("formControlName","telephone")("error",r.telephoneError),i(2),d("id","whatsapp-input")("icon","fa-brands fa-whatsapp")("label","WHATSAPP")("type","text")("formControlName","whatsapp")("error",r.whatsappError),i(2),E(r.status==="SUCCESS"?8:-1),i(),E(M(21,Ft).includes(r.status)?9:10))},dependencies:[h,T,H,U,k,$,V,j,W]})}return t})();function Lt(t,u){if(t&1){let o=N();n(0,"button",4),x("click",function(){b(o);let r=f();return w(r.onDeleteClick())}),l(1),p(2,"translate"),s()}t&2&&(i(),m(" ",c(2,1,"DELETE")," "))}function kt(t,u){t&1&&(n(0,"button",2),a(1,"span",5),l(2),p(3,"translate"),s()),t&2&&(d("disabled",!0),i(2),m(" ",c(3,2,"DELETING")," "))}function $t(t,u){t&1&&(n(0,"p",3),l(1),p(2,"translate"),s()),t&2&&(i(),m(" ",c(2,1,"PAGES.SETTINGS.TABS.DELETE_ACCOUNT.ACCOUNT_DELETED")," "))}var bt=(()=>{class t{store;status$;status;constructor(o){this.store=o,this.status$=this.store.select(ft),this.status$.subscribe(e=>this.status=e)}ngOnInit(){this.store.dispatch(ot())}onDeleteClick(){this.store.dispatch(rt())}static \u0275fac=function(e){return new(e||t)(g(D))};static \u0275cmp=C({type:t,selectors:[["app-settings-delete"]],standalone:!0,features:[A],decls:7,vars:4,consts:[[1,"text-end"],[1,"btn","btn-danger"],[1,"btn","btn-danger",3,"disabled"],[1,"text-success"],[1,"btn","btn-danger",3,"click"],[1,"fa-solid","fa-spinner","fa-spin"]],template:function(e,r){e&1&&(n(0,"p"),l(1),p(2,"translate"),s(),n(3,"div",0),I(4,Lt,3,3,"button",1)(5,kt,4,4,"button",2)(6,$t,3,3,"p",3),s()),e&2&&(i(),B(c(2,2,"PAGES.SETTINGS.TABS.DELETE_ACCOUNT.MESSAGE")),i(3),E(r.status==="PENDING"?4:r.status==="IN_PROGRESS"?5:r.status==="SUCCESS"?6:-1))},dependencies:[h,T]})}return t})();var Ut=[{path:"",component:st,children:[{path:"account",component:Tt,data:{title:"PAGES.SETTINGS.TABS.ACCOUNT.TITLE"}},{path:"contact",component:vt,data:{title:"PAGES.SETTINGS.TABS.CONTACT.TITLE"}},{path:"delete",component:bt,data:{title:"PAGES.SETTINGS.TABS.DELETE_ACCOUNT.TITLE"}},{path:"**",redirectTo:"/settings/account"}]}],wt=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=G({type:t});static \u0275inj=F({imports:[P.forChild(Ut),P]})}return t})();var _e=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=G({type:t});static \u0275inj=F({imports:[q,wt]})}return t})();export{_e as SettingsModule};
