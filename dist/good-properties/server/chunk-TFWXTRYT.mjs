import './polyfills.server.mjs';
import{C as we,Da as J,H as Se,Ha as xe,I as Le,J as q,Ja as W,L as G,M as Te,Mb as _e,Nb as Me,O as je,P as De,Qb as U,R as g,S as B,T as u,U as d,V as p,W as Fe,Y as Ie,_ as H,a as C,aa as Ae,b as me,ba as Oe,c as _,d as be,ea as Z,f as Re,h as v,i as m,ia as E,j as D,la as M,m as $,n as z,o as Ce,oa as R,x as Ee,y as F}from"./chunk-NYYUEVQ5.mjs";import{a as y,b as x}from"./chunk-5XUXGTUW.mjs";function lt(t){t||(Z(lt),t=p(M));let r=new C(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(Te(r))}function Y(t,r){let e=!r?.manualCleanup;e&&!r?.injector&&Z(Y);let n=e?r?.injector?.get(M)??p(M):null,i=dt(r?.equal),s;r?.requireSync?s=W({kind:0},{equal:i}):s=W({kind:1,value:r?.initialValue},{equal:i});let a=t.subscribe({next:o=>s.set({kind:1,value:o}),error:o=>{if(r?.rejectErrors)throw o;s.set({kind:2,error:o})}});return n?.onDestroy(a.unsubscribe.bind(a)),U(()=>{let o=s();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new De(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}},{equal:r?.equal})}function dt(t=Object.is){return(r,e)=>r.kind===1&&e.kind===1&&t(r.value,e.value)}var ee={};function mn(t,r){if(ee[t]=(ee[t]||0)+1,typeof r=="function")return Q(t,(...n)=>x(y({},r(...n)),{type:t}));switch(r?r._as:"empty"){case"empty":return Q(t,()=>({type:t}));case"props":return Q(t,n=>x(y({},n),{type:t}));default:throw new Error("Unexpected config.")}}function bn(){return{_as:"props",_p:void 0}}function Q(t,r){return Object.defineProperty(r,"type",{value:t,writable:!1})}var Je="@ngrx/store/init",w=(()=>{let r=class r extends _{constructor(){super({type:Je})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=g({token:r,factory:r.\u0275fac});let t=r;return t})(),ht=[w],We=new u("@ngrx/store Internal Root Guard"),Ue=new u("@ngrx/store Internal Initial State"),se=new u("@ngrx/store Initial State"),Ye=new u("@ngrx/store Reducer Factory"),Ne=new u("@ngrx/store Internal Reducer Factory Provider"),Qe=new u("@ngrx/store Initial Reducers"),X=new u("@ngrx/store Internal Initial Reducers"),Rn=new u("@ngrx/store Store Features"),Pe=new u("@ngrx/store Internal Store Reducers"),Cn=new u("@ngrx/store Internal Feature Reducers"),En=new u("@ngrx/store Internal Feature Configs"),wn=new u("@ngrx/store Internal Store Features"),Sn=new u("@ngrx/store Internal Feature Reducers Token"),Ln=new u("@ngrx/store Feature Reducers"),ke=new u("@ngrx/store User Provided Meta Reducers"),N=new u("@ngrx/store Meta Reducers"),Ve=new u("@ngrx/store Internal Resolved Meta Reducers"),Ke=new u("@ngrx/store User Runtime Checks Config"),$e=new u("@ngrx/store Internal User Runtime Checks Config"),I=new u("@ngrx/store Internal Runtime Checks"),Xe=new u("@ngrx/store Check if Action types are unique"),ze=new u("@ngrx/store Root Store Provider"),Tn=new u("@ngrx/store Feature State Provider");function gt(t,r={}){let e=Object.keys(t),n={};for(let s=0;s<e.length;s++){let a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}let i=Object.keys(n);return function(a,o){a=a===void 0?r:a;let l=!1,f={};for(let c=0;c<i.length;c++){let h=i[c],j=n[h],ye=a[h],ve=j(ye,o);f[h]=ve,l=l||ve!==ye}return l?f:a}}function pt(t,r){return Object.keys(t).filter(e=>e!==r).reduce((e,n)=>Object.assign(e,{[n]:t[n]}),{})}function et(...t){return function(r){if(t.length===0)return r;let e=t[t.length-1];return t.slice(0,-1).reduceRight((i,s)=>s(i),e(r))}}function tt(t,r){return Array.isArray(r)&&r.length>0&&(t=et.apply(null,[...r,t])),(e,n)=>{let i=t(e);return(s,a)=>(s=s===void 0?n:s,i(s,a))}}function yt(t){let r=Array.isArray(t)&&t.length>0?et(...t):e=>e;return(e,n)=>(e=r(e),(i,s)=>(i=i===void 0?n:i,e(i,s)))}var A=class extends C{},P=class extends w{},vt="@ngrx/store/update-reducers",te=(()=>{let r=class r extends _{get currentReducers(){return this.reducers}constructor(n,i,s,a){super(a(s,i)),this.dispatcher=n,this.initialState=i,this.reducers=s,this.reducerFactory=a}addFeature(n){this.addFeatures([n])}addFeatures(n){let i=n.reduce((s,{reducers:a,reducerFactory:o,metaReducers:l,initialState:f,key:c})=>{let h=typeof a=="function"?yt(l)(a,f):tt(o,l)(a,f);return s[c]=h,s},{});this.addReducers(i)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(i=>i.key))}addReducer(n,i){this.addReducers({[n]:i})}addReducers(n){this.reducers=y(y({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(i=>{this.reducers=pt(this.reducers,i)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:vt,features:n})}ngOnDestroy(){this.complete()}};r.\u0275fac=function(i){return new(i||r)(d(P),d(se),d(Qe),d(Ye))},r.\u0275prov=g({token:r,factory:r.\u0275fac});let t=r;return t})(),mt=[te,{provide:A,useExisting:te},{provide:P,useExisting:w}],ae=(()=>{let r=class r extends me{ngOnDestroy(){this.complete()}};r.\u0275fac=(()=>{let n;return function(s){return(n||(n=E(r)))(s||r)}})(),r.\u0275prov=g({token:r,factory:r.\u0275fac});let t=r;return t})(),bt=[ae],k=class extends C{},qe=(()=>{let r=class r extends _{constructor(n,i,s,a){super(a);let l=n.pipe(Re(be)).pipe(je(i)),f={state:a},c=l.pipe(Le(Rt,f));this.stateSubscription=c.subscribe(({state:h,action:j})=>{this.next(h),s.next(j)}),this.state=Y(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};r.INIT=Je,r.\u0275fac=function(i){return new(i||r)(d(w),d(A),d(ae),d(se))},r.\u0275prov=g({token:r,factory:r.\u0275fac});let t=r;return t})();function Rt(t={state:void 0},[r,e]){let{state:n}=t;return{state:e(n,r),action:r}}var Ct=[qe,{provide:k,useExisting:qe}],oe=(()=>{let r=class r extends C{constructor(n,i,s){super(),this.actionsObserver=i,this.reducerManager=s,this.source=n,this.state=n.state}select(n,...i){return wt.call(null,n,...i)(this)}selectSignal(n,i){return U(()=>n(this.state()),i)}lift(n){let i=new r(this,this.actionsObserver,this.reducerManager);return i.operator=n,i}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,i){this.reducerManager.addReducer(n,i)}removeReducer(n){this.reducerManager.removeReducer(n)}};r.\u0275fac=function(i){return new(i||r)(d(k),d(w),d(te))},r.\u0275prov=g({token:r,factory:r.\u0275fac});let t=r;return t})(),Et=[oe];function wt(t,r,...e){return function(i){let s;if(typeof t=="string"){let a=[r,...e].filter(Boolean);s=i.pipe(Se(t,...a))}else if(typeof t=="function")s=i.pipe(D(a=>t(a,r)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(we())}}var ue="https://ngrx.io/guide/store/configuration/runtime-checks";function Ge(t){return t===void 0}function Be(t){return t===null}function nt(t){return Array.isArray(t)}function St(t){return typeof t=="string"}function Lt(t){return typeof t=="boolean"}function Tt(t){return typeof t=="number"}function rt(t){return typeof t=="object"&&t!==null}function jt(t){return rt(t)&&!nt(t)}function Dt(t){if(!jt(t))return!1;let r=Object.getPrototypeOf(t);return r===Object.prototype||r===null}function ne(t){return typeof t=="function"}function Ft(t){return ne(t)&&t.hasOwnProperty("\u0275cmp")}function It(t,r){return Object.prototype.hasOwnProperty.call(t,r)}function He(t,r){return t===r}function At(t,r,e){for(let n=0;n<t.length;n++)if(!e(t[n],r[n]))return!0;return!1}function it(t,r=He,e=He){let n=null,i=null,s;function a(){n=null,i=null}function o(c=void 0){s={result:c}}function l(){s=void 0}function f(){if(s!==void 0)return s.result;if(!n)return i=t.apply(null,arguments),n=arguments,i;if(!At(arguments,n,r))return i;let c=t.apply(null,arguments);return n=arguments,e(i,c)?i:(i=c,c)}return{memoized:f,reset:a,setResult:o,clearResult:l}}function jn(...t){return xt(it)(...t)}function Ot(t,r,e,n){if(e===void 0){let s=r.map(a=>a(t));return n.memoized.apply(null,s)}let i=r.map(s=>s(t,e));return n.memoized.apply(null,[...i,e])}function xt(t,r={stateFn:Ot}){return function(...e){let n=e;if(Array.isArray(n[0])){let[c,...h]=n;n=[...c,...h]}else n.length===1&&_t(n[0])&&(n=Mt(n[0]));let i=n.slice(0,n.length-1),s=n[n.length-1],a=i.filter(c=>c.release&&typeof c.release=="function"),o=t(function(...c){return s.apply(null,c)}),l=it(function(c,h){return r.stateFn.apply(null,[c,i,h,o])});function f(){l.reset(),o.reset(),a.forEach(c=>c.release())}return Object.assign(l.memoized,{release:f,projector:o.memoized,setResult:l.setResult,clearResult:l.clearResult})}}function _t(t){return!!t&&typeof t=="object"&&Object.values(t).every(r=>typeof r=="function")}function Mt(t){let r=Object.values(t),e=Object.keys(t),n=(...i)=>e.reduce((s,a,o)=>x(y({},s),{[a]:i[o]}),{});return[...r,n]}function Ut(t){return t instanceof u?p(t):t}function Nt(t){return typeof t=="function"?t():t}function Pt(t,r){return t.concat(r)}function kt(){if(p(oe,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Vt(t,r){return function(e,n){let i=r.action(n)?re(n):n,s=t(e,i);return r.state()?re(s):s}}function re(t){Object.freeze(t);let r=ne(t);return Object.getOwnPropertyNames(t).forEach(e=>{if(!e.startsWith("\u0275")&&It(t,e)&&(!r||e!=="caller"&&e!=="callee"&&e!=="arguments")){let n=t[e];(rt(n)||ne(n))&&!Object.isFrozen(n)&&re(n)}}),t}function Kt(t,r){return function(e,n){if(r.action(n)){let s=ie(n);Ze(s,"action")}let i=t(e,n);if(r.state()){let s=ie(i);Ze(s,"state")}return i}}function ie(t,r=[]){return(Ge(t)||Be(t))&&r.length===0?{path:["root"],value:t}:Object.keys(t).reduce((n,i)=>{if(n)return n;let s=t[i];return Ft(s)?n:Ge(s)||Be(s)||Tt(s)||Lt(s)||St(s)||nt(s)?!1:Dt(s)?ie(s,[...r,i]):{path:[...r,i],value:s}},!1)}function Ze(t,r){if(t===!1)return;let e=t.path.join("."),n=new Error(`Detected unserializable ${r} at "${e}". ${ue}#strict${r}serializability`);throw n.value=t.value,n.unserializablePath=e,n}function $t(t,r){return function(e,n){if(r.action(n)&&!xe.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${ue}#strictactionwithinngzone`);return t(e,n)}}function zt(t){return _e()?y({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function qt({strictActionSerializability:t,strictStateSerializability:r}){return e=>t||r?Kt(e,{action:n=>t&&!ce(n),state:()=>r}):e}function Gt({strictActionImmutability:t,strictStateImmutability:r}){return e=>t||r?Vt(e,{action:n=>t&&!ce(n),state:()=>r}):e}function ce(t){return t.type.startsWith("@ngrx")}function Bt({strictActionWithinNgZone:t}){return r=>t?$t(r,{action:e=>t&&!ce(e)}):r}function Ht(t){return[{provide:$e,useValue:t},{provide:Ke,useFactory:Jt,deps:[$e]},{provide:I,deps:[Ke],useFactory:zt},{provide:N,multi:!0,deps:[I],useFactory:Gt},{provide:N,multi:!0,deps:[I],useFactory:qt},{provide:N,multi:!0,deps:[I],useFactory:Bt}]}function Zt(){return[{provide:Xe,multi:!0,deps:[I],useFactory:Wt}]}function Jt(t){return t}function Wt(t){if(!t.strictActionTypeUniqueness)return;let r=Object.entries(ee).filter(([,e])=>e>1).map(([e])=>e);if(r.length)throw new Error(`Action types are registered more than once, ${r.map(e=>`"${e}"`).join(", ")}. ${ue}#strictactiontypeuniqueness`)}function Yt(t={},r={}){return[{provide:We,useFactory:kt},{provide:Ue,useValue:r.initialState},{provide:se,useFactory:Nt,deps:[Ue]},{provide:X,useValue:t},{provide:Pe,useExisting:t instanceof u?t:X},{provide:Qe,deps:[X,[new Fe(Pe)]],useFactory:Ut},{provide:ke,useValue:r.metaReducers?r.metaReducers:[]},{provide:Ve,deps:[N,ke],useFactory:Pt},{provide:Ne,useValue:r.reducerFactory?r.reducerFactory:gt},{provide:Ye,deps:[Ne,Ve],useFactory:tt},ht,mt,bt,Ct,Et,Ht(r.runtimeChecks),Zt()]}function Qt(){p(w),p(A),p(ae),p(oe),p(We,{optional:!0}),p(Xe,{optional:!0})}var Xt=[{provide:ze,useFactory:Qt},{provide:Ie,multi:!0,useFactory(){return()=>p(ze)}}];function Dn(t,r){return Oe([...Yt(t,r),Xt])}function Fn(...t){let r=t.pop(),e=t.map(n=>n.type);return{reducer:r,types:e}}function In(t,...r){let e=new Map;for(let n of r)for(let i of n.types){let s=e.get(i);if(s){let a=(o,l)=>n.reducer(s(o,l),l);e.set(i,a)}else e.set(i,n.reducer)}return function(n=t,i){let s=e.get(i.type);return s?s(n,i):n}}var S=class{},st=(()=>{class t extends S{getTranslation(e){return v({})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=E(t)))(i||t)}})();static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),O=class{},at=(()=>{class t{handle(e){return e.key}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})();function V(t,r){if(t===r)return!0;if(t===null||r===null)return!1;if(t!==t&&r!==r)return!0;let e=typeof t,n=typeof r,i,s,a;if(e==n&&e=="object")if(Array.isArray(t)){if(!Array.isArray(r))return!1;if((i=t.length)==r.length){for(s=0;s<i;s++)if(!V(t[s],r[s]))return!1;return!0}}else{if(Array.isArray(r))return!1;a=Object.create(null);for(s in t){if(!V(t[s],r[s]))return!1;a[s]=!0}for(s in r)if(!(s in a)&&typeof r[s]<"u")return!1;return!0}return!1}function b(t){return typeof t<"u"&&t!==null}function le(t){return t&&typeof t=="object"&&!Array.isArray(t)}function ct(t,r){let e=Object.assign({},t);return le(t)&&le(r)&&Object.keys(r).forEach(n=>{le(r[n])?n in t?e[n]=ct(t[n],r[n]):Object.assign(e,{[n]:r[n]}):Object.assign(e,{[n]:r[n]})}),e}var L=class{},ot=(()=>{class t extends L{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,n){let i;return typeof e=="string"?i=this.interpolateString(e,n):typeof e=="function"?i=this.interpolateFunction(e,n):i=e,i}getValue(e,n){let i=typeof n=="string"?n.split("."):[n];n="";do n+=i.shift(),b(e)&&b(e[n])&&(typeof e[n]=="object"||!i.length)?(e=e[n],n=""):i.length?n+=".":e=void 0;while(i.length);return e}interpolateFunction(e,n){return e(n)}interpolateString(e,n){return n?e.replace(this.templateMatcher,(i,s)=>{let a=this.getValue(n,s);return b(a)?a:i}):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=E(t)))(i||t)}})();static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),T=class{},ut=(()=>{class t extends T{compile(e,n){return e}compileTranslations(e,n){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=E(t)))(i||t)}})();static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),K=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new R;onLangChange=new R;onDefaultLangChange=new R},de=new u("USE_STORE"),fe=new u("USE_DEFAULT_LANG"),he=new u("DEFAULT_LANGUAGE"),ge=new u("USE_EXTEND"),pe=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new R;_onLangChange=new R;_onDefaultLangChange=new R;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,n,i,s,a,o=!0,l=!1,f=!1,c){this.store=e,this.currentLoader=n,this.compiler=i,this.parser=s,this.missingTranslationHandler=a,this.useDefaultLang=o,this.isolate=l,this.extend=f,c&&this.setDefaultLang(c)}setDefaultLang(e){if(e===this.defaultLang)return;let n=this.retrieveTranslations(e);typeof n<"u"?(this.defaultLang==null&&(this.defaultLang=e),n.pipe(F(1)).subscribe(i=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return v(this.translations[e]);let n=this.retrieveTranslations(e);return typeof n<"u"?(this.currentLang||(this.currentLang=e),n.pipe(F(1)).subscribe(i=>{this.changeLang(e)}),n):(this.changeLang(e),v(this.translations[e]))}retrieveTranslations(e){let n;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),n=this._translationRequests[e]),n}getTranslation(e){this.pending=!0;let n=this.currentLoader.getTranslation(e).pipe(q(1),F(1));return this.loadingTranslations=n.pipe(D(i=>this.compiler.compileTranslations(i,e)),q(1),F(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[e]=this.extend&&this.translations[e]?y(y({},i),this.translations[e]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),n}setTranslation(e,n,i=!1){n=this.compiler.compileTranslations(n,e),(i||this.extend)&&this.translations[e]?this.translations[e]=ct(this.translations[e],n):this.translations[e]=n,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(n=>{this.langs.indexOf(n)===-1&&this.langs.push(n)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,n,i){let s;if(n instanceof Array){let a={},o=!1;for(let l of n)a[l]=this.getParsedResult(e,l,i),m(a[l])&&(o=!0);if(o){let l=n.map(f=>m(a[f])?a[f]:v(a[f]));return Ce(l).pipe(D(f=>{let c={};return f.forEach((h,j)=>{c[n[j]]=h}),c}))}return a}if(e&&(s=this.parser.interpolate(this.parser.getValue(e,n),i)),typeof s>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],n),i)),typeof s>"u"){let a={key:n,translateService:this};typeof i<"u"&&(a.interpolateParams=i),s=this.missingTranslationHandler.handle(a)}return typeof s<"u"?s:n}get(e,n){if(!b(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Ee(i=>(i=this.getParsedResult(i,e,n),m(i)?i:v(i))));{let i=this.getParsedResult(this.translations[this.currentLang],e,n);return m(i)?i:v(i)}}getStreamOnTranslationChange(e,n){if(!b(e)||!e.length)throw new Error('Parameter "key" required');return $(z(()=>this.get(e,n)),this.onTranslationChange.pipe(G(i=>{let s=this.getParsedResult(i.translations,e,n);return typeof s.subscribe=="function"?s:v(s)})))}stream(e,n){if(!b(e)||!e.length)throw new Error('Parameter "key" required');return $(z(()=>this.get(e,n)),this.onLangChange.pipe(G(i=>{let s=this.getParsedResult(i.translations,e,n);return m(s)?s:v(s)})))}instant(e,n){if(!b(e)||!e.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],e,n);if(m(i)){if(e instanceof Array){let s={};return e.forEach((a,o)=>{s[e[o]]=e[o]}),s}return e}else return i}set(e,n,i=this.currentLang){this.translations[i][e]=this.compiler.compile(n,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;if(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof e>"u"))return e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0]),e}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(n){return new(n||t)(d(K),d(S),d(T),d(L),d(O),d(fe),d(de),d(ge),d(he))};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})();var qn=(()=>{class t{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,n){this.translate=e,this._ref=n}updateValue(e,n,i){let s=a=>{this.value=a!==void 0?a:e,this.lastKey=e,this._ref.markForCheck()};if(i){let a=this.translate.getParsedResult(i,e,n);m(a.subscribe)?a.subscribe(s):s(a)}this.translate.get(e,n).subscribe(s)}transform(e,...n){if(!e||!e.length)return e;if(V(e,this.lastKey)&&V(n,this.lastParams))return this.value;let i;if(b(n[0])&&n.length)if(typeof n[0]=="string"&&n[0].length){let s=n[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(s)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else typeof n[0]=="object"&&!Array.isArray(n[0])&&(i=n[0]);return this.lastKey=e,this.lastParams=n,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(n){return new(n||t)(J(pe,16),J(Me,16))};static \u0275pipe=Ae({name:"translate",type:t,pure:!1});static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),Gn=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:S,useClass:st},e.compiler||{provide:T,useClass:ut},e.parser||{provide:L,useClass:ot},e.missingTranslationHandler||{provide:O,useClass:at},K,{provide:de,useValue:e.isolate},{provide:fe,useValue:e.useDefaultLang},{provide:ge,useValue:e.extend},{provide:he,useValue:e.defaultLanguage},pe]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:S,useClass:st},e.compiler||{provide:T,useClass:ut},e.parser||{provide:L,useClass:ot},e.missingTranslationHandler||{provide:O,useClass:at},{provide:de,useValue:e.isolate},{provide:fe,useValue:e.useDefaultLang},{provide:ge,useValue:e.extend},{provide:he,useValue:e.defaultLanguage},pe]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=H({type:t});static \u0275inj=B({})}return t})();export{lt as a,mn as b,bn as c,ze as d,Tn as e,ae as f,oe as g,jn as h,Dn as i,Fn as j,In as k,S as l,pe as m,qn as n,Gn as o};
