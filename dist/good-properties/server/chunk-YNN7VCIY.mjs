import './polyfills.server.mjs';
import{a as G,d as B}from"./chunk-F6YOLJIV.mjs";import{a as A,b as N}from"./chunk-ZFWNXSLB.mjs";import{a as w}from"./chunk-OA3WBR5E.mjs";import"./chunk-BCOKWE5G.mjs";import"./chunk-BYJCX5FD.mjs";import{g as P,h as u,n as $,o as j}from"./chunk-TFWXTRYT.mjs";import{Ab as _,Ca as r,Da as s,Ma as y,Oa as h,S as m,Sa as c,Wa as l,Xa as n,Ya as a,Z as b,_ as p,_b as R,db as d,ob as O,pb as v,rc as T,sc as F,t as S,ub as E,vc as I,yc as g,zb as x}from"./chunk-NYYUEVQ5.mjs";import"./chunk-5XUXGTUW.mjs";var C=t=>t.myOffers,D=u(C,t=>t.meta),Y=u(C,t=>t.offers),L=u(C,t=>t.status);function J(t,f){t&1&&(l(0,"div",1),a(1,"span",2),n())}function K(t,f){t&1&&(l(0,"p"),O(1),x(2,"translate"),n()),t&2&&(r(),v(_(2,1,"PAGES.MY_OFFERS.NO_OFFERS")))}function Q(t,f){if(t&1&&a(0,"app-offer",3),t&2){let e=d(2);h("offers",e.offers)}}function U(t,f){if(t&1&&a(0,"br")(1,"app-pagination",4),t&2){let e=d(2);r(),h("nbPages",e.meta.nb_pages)}}function V(t,f){if(t&1&&y(0,K,3,3,"p")(1,Q,1,1,"app-offer",3)(2,U,2,1),t&2){let e=d();c(e.offers.length===0?0:1),r(2),c(e.meta&&e.meta.nb_pages?2:-1)}}var k=(()=>{class t{store;router;activatedRoute;platformService;meta$;offers$;status$;meta;offers;status;routerEventsSubscription;constructor(e,i,M,H){this.store=e,this.router=i,this.activatedRoute=M,this.platformService=H,this.store.dispatch(G()),this.meta$=this.store.select(D),this.offers$=this.store.select(Y),this.status$=this.store.select(L),this.meta$.subscribe(o=>this.meta=o),this.offers$.subscribe(o=>this.offers=o),this.status$.subscribe(o=>this.status=o),this.getMyOffers(),this.routerEventsSubscription=this.router.events.pipe(S(o=>o instanceof T)).subscribe(()=>{new RegExp("/my-offers.[^/]*$").test(this.router.url)&&this.getMyOffers()})}ngOnDestroy(){this.routerEventsSubscription.unsubscribe()}getMyOffers(){let e=this.activatedRoute.snapshot.queryParams.page;e||(e=1),this.store.dispatch(B({page:e})),this.platformService.isPlatformBrowser()&&setTimeout(()=>window.scrollTo({top:0,behavior:"instant"}))}static \u0275fac=function(i){return new(i||t)(s(P),s(I),s(F),s(w))};static \u0275cmp=b({type:t,selectors:[["app-my-offers"]],standalone:!0,features:[E],decls:7,vars:4,consts:[["id","main-container",1,"main-container-top-margin"],[1,"text-center"],[1,"fa-solid","fa-spinner","fa-spin","fa-2x"],[3,"offers"],[3,"nbPages"]],template:function(i,M){i&1&&(l(0,"div",0)(1,"h1"),O(2),x(3,"translate"),n(),a(4,"hr"),y(5,J,2,0,"div",1)(6,V,3,2),n()),i&2&&(r(2),v(_(3,2,"PAGES.MY_OFFERS.TITLE")),r(3),c(M.status==="IN_PROGRESS"?5:6))},dependencies:[j,$,N,A]})}return t})();var W=[{path:"",component:k,data:{title:"PAGES.MY_OFFERS.TITLE"}}],z=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=p({type:t});static \u0275inj=m({imports:[g.forChild(W),g]})}return t})();var ht=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=p({type:t});static \u0275inj=m({imports:[R,z]})}return t})();export{ht as MyOffersModule};
