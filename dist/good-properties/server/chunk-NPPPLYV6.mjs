import './polyfills.server.mjs';
import{a as Rr,b as Bt,c as Or,d as zt,e as Jt,f as xr}from"./chunk-F6YOLJIV.mjs";import{a as nr,c as Fr,d as qt,e as Yt,f as Kt,g as yr,h as Zt,i as Wt,j as Qt,k as Pr,l as te,m as ee,n as re,o as wr,p as ie,q as oe,r as ne}from"./chunk-KHHOXYGC.mjs";import{a as pt,b as ut,c as lt,d as dt,e as mt,f as ht,g as gt,h as St,i as At,j as ot,k as Ct,l as Et,m as vt,n as It,o as Rt,p as Ot}from"./chunk-JMDKFUX5.mjs";import{c as Ke}from"./chunk-SZDR5P22.mjs";import{a as ar,b as yt,c as fr,d as pr,e as Pt,f as ur,g as wt,h as Mt,i as lr,j as _t,k as Ut,l as bt}from"./chunk-3AU5X4CN.mjs";import{a as sr,b as jt,c as Tt,d as Nt}from"./chunk-6WDJA7GR.mjs";import{a as xt,b as Ft,c as kt,d as $t,e as Dt}from"./chunk-AJXHUQYK.mjs";import{a as cr}from"./chunk-OA3WBR5E.mjs";import{a as dr,b as mr,c as Gt,d as hr,e as gr,f as Sr,g as Ht,h as Ar,i as Lt,j as Xt,k as Vt,l as Cr,m as Er,n as vr,o as Ir}from"./chunk-LP4MHVAQ.mjs";import{b as N,c as rt,d as tr,e as er,f as rr,g as z,i as ir,j as c,k as E,l as or,n as it,o as J}from"./chunk-TFWXTRYT.mjs";import{A as Me,Ab as _,B as _e,Ca as P,Da as W,E as j,F as ve,G as Ue,Jb as Ge,Ma as $e,N as Y,R as p,Sa as De,T as X,Tb as He,U as a,V as A,Wa as I,Wb as Le,Xa as R,Y as be,Ya as $,Z as V,Za as Ie,a as Fe,ac as Xe,b as ye,ba as je,ca as Te,cb as Q,db as tt,fc as D,ga as K,h as u,ha as Z,hc as Ve,ic as Be,j as l,jc as ze,ka as Ne,l as G,ob as w,oc as Je,pb as Re,pc as qe,qb as T,qc as Ye,r as Ee,rc as Ze,sa as ke,t as et,tc as We,ub as B,vc as H,w as f,wc as at,x as C,xc as Qe,y as Pe,yc as ft,z as we,zb as M}from"./chunk-NYYUEVQ5.mjs";import{a as n,b as s}from"./chunk-5XUXGTUW.mjs";var L=N("[User] Get Current User"),se=N("[User] Get Current User Success",rt()),ce=N("[User] Get Current User Failed"),ae=N("[User] Update Current User Email",rt()),fe=N("[User] Clear Current User");function wi(t,i){if(t&1){let e=Ie();I(0,"li",7)(1,"a",8),Q("click",function(){K(e);let o=tt();return Z(o.hideHamburgerMenu())}),w(2),M(3,"translate"),R()(),I(4,"li",7)(5,"a",9),Q("click",function(){K(e);let o=tt();return Z(o.hideHamburgerMenu())}),w(6),M(7,"translate"),R()()}t&2&&(P(2),T(" ",_(3,2,"LOGIN")," "),P(4),T(" ",_(7,4,"REGISTER")," "))}function Mi(t,i){if(t&1){let e=Ie();I(0,"li",7)(1,"a",10),Q("click",function(){K(e);let o=tt();return Z(o.hideHamburgerMenu())}),$(2,"span",11),w(3),M(4,"translate"),R()(),I(5,"li",12)(6,"a",13),$(7,"span",14),w(8),M(9,"translate"),R(),I(10,"ul",15)(11,"li")(12,"a",16),Q("click",function(){K(e);let o=tt();return Z(o.hideHamburgerMenu())}),w(13),M(14,"translate"),R()(),I(15,"li")(16,"a",17),Q("click",function(){K(e);let o=tt();return Z(o.hideHamburgerMenu())}),w(17),M(18,"translate"),R()(),I(19,"li"),$(20,"hr",18),R(),I(21,"li")(22,"a",19),Q("click",function(){K(e);let o=tt();return o.onLogoutClick(),Z(o.hideHamburgerMenu())}),w(23),M(24,"translate"),R()()()()}t&2&&(P(3),T(" ",_(4,5,"CREATE_OFFER")," "),P(5),T(" ",_(9,7,"MY_ACCOUNT")," "),P(5),T(" ",_(14,9,"MY_OFFERS")," "),P(4),T(" ",_(18,11,"SETTINGS")," "),P(6),T(" ",_(24,13,"LOGOUT")," "))}var Ur=(()=>{class t{store;user$;user;constructor(e){this.store=e,this.user$=this.store.select(nr),this.user$.subscribe(r=>this.user=r)}hideHamburgerMenu(){let e=document.querySelector(".navbar-toggler");e&&e.click()}onLogoutClick(){this.store.dispatch(ot({delay:0}))}static \u0275fac=function(r){return new(r||t)(W(z))};static \u0275cmp=V({type:t,selectors:[["app-header"]],standalone:!0,features:[B],decls:12,vars:4,consts:[[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","app-logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/auth/login","data-toggle","collapse","data-target",".navbar-collapse.show",1,"nav-link",3,"click"],["routerLink","/auth/register",1,"nav-link",3,"click"],["routerLink","/new-offer",1,"nav-link",3,"click"],[1,"fa-solid","fa-plus"],[1,"nav-item","dropdown"],["href","javascript:void(0)","data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle"],[1,"fa-regular","fa-circle-user"],[1,"dropdown-menu"],["routerLink","/my-offers",1,"dropdown-item",3,"click"],["routerLink","/settings",1,"dropdown-item",3,"click"],[1,"dropdown-divider"],["href","javascript:void(0)",1,"dropdown-item",3,"click"]],template:function(r,o){r&1&&(I(0,"header")(1,"nav",0)(2,"div",1)(3,"a",2),w(4),M(5,"translate"),R(),I(6,"button",3),$(7,"span",4),R(),I(8,"div",5)(9,"ul",6),$e(10,wi,8,6)(11,Mi,25,15),R()()()()()),r&2&&(P(4),T(" ",_(5,2,"TITLE")," "),P(6),De(o.user===null?10:11))},dependencies:[J,it,ft,at],styles:["header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000;background-color:#fff;box-shadow:0 0 10px #333}header[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{border-radius:0}@media only screen and (min-width: 992px){header[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{top:46px;border:none;box-shadow:0 5px 5px #00000080}}"]})}return t})();var br=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=V({type:t,selectors:[["app-footer"]],standalone:!0,features:[B],decls:20,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-3","text-center","text-md-start"],["routerLink","/",1,"app-logo","app-link-grey"],["href","javascript:void(0)",1,"app-link-grey","fa-brands","fa-facebook"],["href","javascript:void(0)",1,"app-link-grey","fa-brands","fa-twitter"],["href","javascript:void(0)",1,"app-link-grey","fa-brands","fa-instagram"],[1,"col-12","col-md-6","text-center","text-md-end"],["href","javascript:void(0)",1,"app-link-grey"]],template:function(r,o){r&1&&(I(0,"footer",0),$(1,"hr"),I(2,"div",1)(3,"div",2)(4,"a",3),w(5),M(6,"translate"),R()(),I(7,"div",2),$(8,"a",4)(9,"a",5)(10,"a",6),R(),I(11,"div",7)(12,"a",8),w(13),M(14,"translate"),R(),I(15,"span"),w(16,"\xB7"),R(),I(17,"a",8),w(18),M(19,"translate"),R()()()()),r&2&&(P(5),T(" \xA9 ",_(6,3,"TITLE")," "),P(8),T(" ",_(14,5,"TOS")," "),P(5),T(" ",_(19,7,"PRIVACY_POLICY")," "))},dependencies:[ft,at,J,it],styles:[".container[_ngcontent-%COMP%]{max-width:100%;padding-bottom:1rem;margin-top:1rem}.container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:0}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (width >= 768px){.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){min-width:150px;max-width:150px}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1)   a[_ngcontent-%COMP%]{font-size:1.2rem}}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1)   a[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){flex-grow:1}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)   a[_ngcontent-%COMP%]{font-size:1.5rem}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)   a[_ngcontent-%COMP%]:not(:first-of-type){margin-left:1rem}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){flex-grow:1}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3)   div[_ngcontent-%COMP%]{margin-left:auto}"]})}return t})();var jr=(()=>{class t{store;router;titleService;translationService;userStatus$;userStatus;constructor(e,r,o,h){this.store=e,this.router=r,this.titleService=o,this.translationService=h}ngOnInit(){this.router.events.pipe(et(e=>e instanceof Ze),l(()=>{let e=this.router.routerState.root,r="";for(;e.firstChild;)e=e.firstChild;return e.snapshot.data.title&&(r=e.snapshot.data.title),r})).subscribe(e=>{e&&(e==="TITLE"?this.titleService.setTitle(this.translationService.instant("TITLE")):this.titleService.setTitle(`${this.translationService.instant(e)} - ${this.translationService.instant("TITLE")}`))}),this.store.dispatch(L())}static \u0275fac=function(r){return new(r||t)(W(z),W(H),W(qe),W(sr))};static \u0275cmp=V({type:t,selectors:[["app-root"]],standalone:!0,features:[B],decls:4,vars:0,template:function(r,o){r&1&&($(0,"app-header"),I(1,"main"),$(2,"router-outlet"),R(),$(3,"app-footer"))},dependencies:[We,Ur,br]})}return t})();var pe=class{http;prefix;suffix;constructor(i,e="/assets/i18n/",r=".json"){this.http=i,this.prefix=e,this.suffix=r}getTranslation(i){return this.http.get(`${this.prefix}${i}${this.suffix}`)}};var _i={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},ue="__@ngrx/effects_create__";function d(t,i={}){let e=i.functional?t:t(),r=n(n({},_i),i);return Object.defineProperty(e,ue,{value:r}),e}function Ui(t){return Object.getOwnPropertyNames(t).filter(r=>t[r]&&t[r].hasOwnProperty(ue)?t[r][ue].hasOwnProperty("dispatch"):!1).map(r=>{let o=t[r][ue];return n({propertyName:r},o)})}function bi(t){return Ui(t)}function Tr(t){return Object.getPrototypeOf(t)}function ji(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function Nr(t){return typeof t=="function"}function Ti(t){return t.filter(Nr)}function Ni(t,i,e){let r=Tr(t),h=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,g=bi(t).map(({propertyName:v,dispatch:y,useEffectsErrorHandler:b})=>{let k=typeof t[v]=="function"?t[v]():t[v],F=b?e(k,i):k;return y===!1?F.pipe(we()):F.pipe(Ue()).pipe(l(U=>({effect:t[v],notification:U,propertyName:v,sourceName:h,sourceInstance:t})))});return Ee(...g)}var ki=10;function kr(t,i,e=ki){return t.pipe(f(r=>(i&&i.handleError(r),e<=1?t:kr(t,i,e-1))))}var x=(()=>{let i=class i extends Fe{constructor(r){super(),r&&(this.source=r)}lift(r){let o=new i;return o.source=this,o.operator=r,o}};i.\u0275fac=function(o){return new(o||i)(a(rr))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();function m(...t){return et(i=>t.some(e=>typeof e=="string"?e===i.type:e.type===i.type))}var an=new X("@ngrx/effects Internal Root Guard"),fn=new X("@ngrx/effects User Provided Effects"),pn=new X("@ngrx/effects Internal Root Effects"),un=new X("@ngrx/effects Internal Root Effects Instances"),ln=new X("@ngrx/effects Internal Feature Effects"),dn=new X("@ngrx/effects Internal Feature Effects Instance Groups"),$i=new X("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>kr}),Di="@ngrx/effects/init",Gi=N(Di);function Hi(t,i){if(t.notification.kind==="N"){let e=t.notification.value;!Li(e)&&i.handleError(new Error(`Effect ${Xi(t)} dispatched an invalid action: ${Vi(e)}`))}}function Li(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function Xi({propertyName:t,sourceInstance:i,sourceName:e}){let r=typeof i[t]=="function";return!!e?`"${e}.${String(t)}${r?"()":""}"`:`"${String(t)}()"`}function Vi(t){try{return JSON.stringify(t)}catch{return t}}var Bi="ngrxOnIdentifyEffects";function zi(t){return xe(t,Bi)}var Ji="ngrxOnRunEffects";function qi(t){return xe(t,Ji)}var Yi="ngrxOnInitEffects";function Ki(t){return xe(t,Yi)}function xe(t,i){return t&&i in t&&typeof t[i]=="function"}var $r=(()=>{let i=class i extends ye{constructor(r,o){super(),this.errorHandler=r,this.effectsErrorHandler=o}addEffects(r){this.next(r)}toActions(){return this.pipe(ve(r=>ji(r)?Tr(r):r),G(r=>r.pipe(ve(Zi))),G(r=>{let o=r.pipe(j(g=>Wi(this.errorHandler,this.effectsErrorHandler)(g)),l(g=>(Hi(g,this.errorHandler),g.notification)),et(g=>g.kind==="N"&&g.value!=null),_e()),h=r.pipe(Pe(1),et(Ki),l(g=>g.ngrxOnInitEffects()));return Ee(o,h)}))}};i.\u0275fac=function(o){return new(o||i)(a(Ne),a($i))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();function Zi(t){return zi(t)?t.ngrxOnIdentifyEffects():""}function Wi(t,i){return e=>{let r=Ni(e,t,i);return qi(e)?e.ngrxOnRunEffects(r):r}}var Qi=(()=>{let i=class i{get isStarted(){return!!this.effectsSubscription}constructor(r,o){this.effectSources=r,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};i.\u0275fac=function(o){return new(o||i)(a($r),a(z))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();function Dr(...t){let i=t.flat(),e=Ti(i);return je([e,{provide:be,multi:!0,useValue:()=>{A(tr),A(er,{optional:!0});let r=A(Qi),o=A($r),h=!r.isStarted;h&&r.start();for(let g of i){let v=Nr(g)?A(g):g;o.addEffects(v)}h&&A(z).dispatch(Gi())}}])}var Gr={API_URL:"http://54.247.222.69:5001/v1"};var Hr=(t,i)=>{let{url:e}=t;if(e.includes("assets"))return i(t);let r={url:`${Gr.API_URL}/${e}`};return i(t.clone(r))};var Lr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=V({type:t,selectors:[["app-not-found"]],standalone:!0,features:[B],decls:7,vars:6,consts:[["id","main-container"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"h2"),w(2),M(3,"translate"),R(),I(4,"p"),w(5),M(6,"translate"),R()()),r&2&&(P(2),Re(_(3,2,"PAGES.NOT_FOUND.TITLE")),P(3),Re(_(6,4,"PAGES.NOT_FOUND.MESSAGE")))},dependencies:[J,it],styles:["#main-container[_ngcontent-%COMP%]{text-align:center;margin-top:10rem}"]})}return t})();var Xr=(t,i)=>{let e=A(H),r=A(cr);return A(xt).authorized().pipe(l(()=>(r.isPlatformBrowser()&&e.navigate(["/"]),!1)),f(()=>u(!0)))};var Vr=[{path:"",loadChildren:()=>import("./chunk-7QVQIZRS.mjs").then(t=>t.SearchModule)},{path:"article",loadChildren:()=>import("./chunk-PAICAKRC.mjs").then(t=>t.ArticleModule)},{path:"offer",loadChildren:()=>import("./chunk-ZMX22HYI.mjs").then(t=>t.OfferModule)},{path:"new-offer",loadChildren:()=>import("./chunk-PISGDTTJ.mjs").then(t=>t.NewOfferModule),canActivate:[Ft]},{path:"my-offers",loadChildren:()=>import("./chunk-YNN7VCIY.mjs").then(t=>t.MyOffersModule),canActivate:[Ft]},{path:"settings",loadChildren:()=>import("./chunk-GSQZAHWQ.mjs").then(t=>t.SettingsModule),canActivate:[Ft]},{path:"auth",loadChildren:()=>import("./chunk-4MD3XXXC.mjs").then(t=>t.AuthModule),canActivate:[Xr]},{path:"**",component:Lr}];var Br=(()=>{let i=class i{constructor(r,o){this.document=r,this.platformId=o,this.documentIsAccessible=Xe(this.platformId)}static getCookieRegExp(r){let o=r.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+o+"|;\\s*"+o+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(r){try{return decodeURIComponent(r)}catch{return r}}check(r){return this.documentIsAccessible?(r=encodeURIComponent(r),i.getCookieRegExp(r).test(this.document.cookie)):!1}get(r){if(this.documentIsAccessible&&this.check(r)){r=encodeURIComponent(r);let h=i.getCookieRegExp(r).exec(this.document.cookie);return h[1]?i.safeDecodeURIComponent(h[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let r={},o=this.document;return o.cookie&&o.cookie!==""&&o.cookie.split(";").forEach(h=>{let[g,v]=h.split("=");r[i.safeDecodeURIComponent(g.replace(/^ /,""))]=i.safeDecodeURIComponent(v)}),r}set(r,o,h,g,v,y,b,k){if(!this.documentIsAccessible)return;if(typeof h=="number"||h instanceof Date||g||v||y||b){let U={expires:h,path:g,domain:v,secure:y,sameSite:b||"Lax",partitioned:k};this.set(r,o,U);return}let F=encodeURIComponent(r)+"="+encodeURIComponent(o)+";",S=h||{};if(S.expires)if(typeof S.expires=="number"){let U=new Date(new Date().getTime()+S.expires*1e3*60*60*24);F+="expires="+U.toUTCString()+";"}else F+="expires="+S.expires.toUTCString()+";";S.path&&(F+="path="+S.path+";"),S.domain&&(F+="domain="+S.domain+";"),S.secure===!1&&S.sameSite==="None"&&(S.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${r} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),S.secure&&(F+="secure;"),S.sameSite||(S.sameSite="Lax"),F+="sameSite="+S.sameSite+";",S.partitioned&&(F+="Partitioned;"),this.document.cookie=F}delete(r,o,h,g,v="Lax"){if(!this.documentIsAccessible)return;let y=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(r,"",{expires:y,path:o,domain:h,secure:g,sameSite:v})}deleteAll(r,o,h,g="Lax"){if(!this.documentIsAccessible)return;let v=this.getAll();for(let y in v)v.hasOwnProperty(y)&&this.delete(y,r,o,h,g)}};i.\u0275fac=function(o){return new(o||i)(a(Le),a(ke))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var zr=(()=>{class t{router;cookieService;authService;actions$=A(x);constructor(e,r,o){this.router=e,this.cookieService=r,this.authService=o}register$=d(()=>this.actions$.pipe(m(pt),j(e=>this.authService.register(e.email,e.password,e.repeatedPassword).pipe(l(()=>ut()),f(r=>u(lt({errors:r.error})))))));registerConfirm$=d(()=>this.actions$.pipe(m(dt),j(e=>this.authService.registerConfirm(e.confirmationToken).pipe(C(()=>[mt(),L()]),Y(()=>setTimeout(()=>this.router.navigate(["/"]),3e3)),f(r=>u(ht()))))));login$=d(()=>this.actions$.pipe(m(gt),j(e=>this.authService.login(e.email,e.password).pipe(G(()=>[St(),L()]),Y(()=>this.router.navigate(["/"])),f(r=>u(At({errors:r.error})))))));logout$=d(()=>this.actions$.pipe(m(ot),j(e=>this.authService.logout().pipe(Me(e.delay),l(()=>fe()),Y(()=>{(this.router.url==="/new-offer"||this.router.url==="/my-offers"||this.router.url.startsWith("/settings")||/\/offer\/.*\/edit/g.test(this.router.url))&&this.router.navigate(["/"]),this.cookieService.delete("token","/")})))));passwordForgotten$=d(()=>this.actions$.pipe(m(Ct),j(e=>this.authService.passwordForgotten(e.email).pipe(l(()=>Et()),f(r=>u(vt({errors:r.error})))))));resetPassword$=d(()=>this.actions$.pipe(m(It),j(e=>this.authService.resetPasword(e.password,e.repeatedPassword,e.resetPasswordToken).pipe(C(()=>[Rt(),L()]),Y(()=>setTimeout(()=>this.router.navigate(["/"]),3e3)),f(r=>u(Ot({errors:r.error})))))));static \u0275fac=function(r){return new(r||t)(a(H),a(Br),a(xt))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var nt=N("[Contact] Get Current User Contact"),le=N("[Contact] Get Current User Contact Success",rt()),de=N("[Contact] Get Current User Contact Failed"),me=N("[Contact] Update Current User Contact",rt());var Se=(()=>{class t{http;API_PREFIX;constructor(e){this.http=e,this.API_PREFIX="user"}getCurrentUser(){return this.http.get(this.API_PREFIX,{withCredentials:!0})}getCurrentUserContact(){return this.http.get(`${this.API_PREFIX}/contact`,{withCredentials:!0})}static \u0275fac=function(r){return new(r||t)(a(D))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qr=(()=>{class t{userService;action$=A(x);constructor(e){this.userService=e}getCurrentUser$=d(()=>this.action$.pipe(m(L),j(()=>this.userService.getCurrentUser().pipe(C(e=>[se({user:e}),nt()]),f(()=>u(ce()))))));static \u0275fac=function(r){return new(r||t)(a(Se))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var Yr=(()=>{class t{userService;action$=A(x);constructor(e){this.userService=e}getCurrentUserContact$=d(()=>this.action$.pipe(m(nt),j(()=>this.userService.getCurrentUserContact().pipe(l(e=>le({contact:e})),f(()=>u(de()))))));static \u0275fac=function(r){return new(r||t)(a(Se))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var Kr=(()=>{class t{http;API_PREFIX;constructor(e){this.http=e,this.API_PREFIX="user/setting"}updateEmail(e){let r={email:e};return this.http.put(`${this.API_PREFIX}/email`,r,{withCredentials:!0})}updatePassword(e,r){let o={password:e,repeatedPassword:r};return this.http.put(`${this.API_PREFIX}/password`,o,{withCredentials:!0})}updateContact(e,r,o){let h={email:e,telephone:r,whatsapp:o};return this.http.put(`${this.API_PREFIX}/contact`,h,{withCredentials:!0})}deleteAccount(){return this.http.delete(`${this.API_PREFIX}/delete`,{withCredentials:!0})}static \u0275fac=function(r){return new(r||t)(a(D))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zr=(()=>{class t{router;settingsService;actions$=A(x);constructor(e,r){this.router=e,this.settingsService=r}updateEmail$=d(()=>this.actions$.pipe(m(qt),C(e=>this.settingsService.updateEmail(e.email).pipe(C(()=>[Yt(),ae({email:e.email})]),f(r=>u(Kt({errors:r.error})))))));updatePassword$=d(()=>this.actions$.pipe(m(Zt),C(e=>this.settingsService.updatePassword(e.password,e.repeatedPassword).pipe(l(()=>Wt()),f(r=>u(Qt({errors:r.error})))))));updateContact$=d(()=>this.actions$.pipe(m(te),C(e=>this.settingsService.updateContact(e.email,e.telephone,e.whatsapp).pipe(C(()=>[ee(),me({email:e.email,telephone:e.telephone,whatsapp:e.whatsapp})]),f(r=>u(re({errors:r.error})))))));deleteAccount$=d(()=>this.actions$.pipe(m(ie),G(()=>this.settingsService.deleteAccount().pipe(C(()=>[oe(),ot({delay:3e3})]),f(()=>u(ne()))))));static \u0275fac=function(r){return new(r||t)(a(H),a(Kr))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var Wr=(()=>{class t{http;API_PREFIX;constructor(e){this.http=e,this.API_PREFIX="file"}uploadFile(e){let r=new FormData;return r.append("file",e),this.http.post(this.API_PREFIX,r,{withCredentials:!0})}deleteFile(e){let r={fileName:e};return this.http.delete(this.API_PREFIX,{body:r,withCredentials:!0})}static \u0275fac=function(r){return new(r||t)(a(D))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Qr=(()=>{class t{fileService;action$=A(x);constructor(e){this.fileService=e}uploadImage$=d(()=>this.action$.pipe(m(Lt),G(e=>this.fileService.uploadFile(e.file).pipe(l(r=>Xt({key:r.key,link:r.link,index:e.index})),f(r=>u(Vt({error:r.error,index:e.index})))))));deleteImage$=d(()=>this.action$.pipe(m(Cr),G(e=>this.fileService.deleteFile(e.key).pipe(l(()=>Er()),f(r=>u(vr()))))));static \u0275fac=function(r){return new(r||t)(a(Wr))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var q=(()=>{class t{http;API_PREFIX;constructor(e){this.http=e,this.API_PREFIX="offer"}getFeatures(){return this.http.get(`${this.API_PREFIX}/features`)}getOffer(e){return this.http.get(`${this.API_PREFIX}/${e}`)}getMyOffersMeta(){return this.http.get(`${this.API_PREFIX}/my-offers/meta`,{withCredentials:!0})}getMyOffers(e){return this.http.get(`${this.API_PREFIX}/my-offers`,{withCredentials:!0,params:{page:e}})}createOffer(e,r,o,h,g,v,y,b,k,F){let S={images:e,type_of_good:r,transaction_type:o,square_meters:h,nb_rooms:g,nb_bedrooms:v,price:y,description:b,city_id:k,features:F};return this.http.post(this.API_PREFIX,S,{withCredentials:!0})}getSearchMeta(e,r,o,h,g,v,y,b,k,F){let S={transaction_type:e,type_of_good:r,city_ids:o};return h&&(S.min_price=h),g&&(S.max_price=g),v&&(S.min_square_meters=v),y&&(S.max_square_meters=y),b&&(S.nb_rooms=b),k&&(S.nb_bedrooms=k),F&&(S.features=F),this.http.get(`${this.API_PREFIX}/search/meta`,{params:S})}search(e,r,o,h,g,v,y,b,k,F,S){let U={transaction_type:e,type_of_good:r,city_ids:o};return h&&(U.min_price=h),g&&(U.max_price=g),v&&(U.min_square_meters=v),y&&(U.max_square_meters=y),b&&(U.nb_rooms=b),k&&(U.nb_bedrooms=k),F&&(U.features=F),S&&(U.page=S),this.http.get(`${this.API_PREFIX}/search`,{params:U})}static \u0275fac=function(r){return new(r||t)(a(D))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ti=(()=>{class t{router;offerService;actions$=A(x);constructor(e,r){this.router=e,this.offerService=r}getFeatures$=d(()=>this.actions$.pipe(m(mr),C(()=>this.offerService.getFeatures().pipe(l(e=>Gt({features:e})),f(()=>u(hr()))))));createOffer$=d(()=>this.actions$.pipe(m(gr),C(e=>this.offerService.createOffer(e.images,e.typeOfGood,e.transactionType,e.squareMeters,e.nbRooms,e.nbBedrooms,e.price,e.description,e.cityId,e.features).pipe(l(r=>Sr({id:r.id})),Y(r=>this.router.navigate(["/offer",r.id])),f(r=>u(Ht({errors:r.error})))))));static \u0275fac=function(r){return new(r||t)(a(H),a(q))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var ei=(()=>{class t{offerService;actions$=A(x);constructor(e){this.offerService=e}getOffer$=d(()=>this.actions$.pipe(m(kt),C(e=>this.offerService.getOffer(e.id).pipe(l(r=>$t({offer:r})),f(r=>u(Dt({errors:r.error})))))));static \u0275fac=function(r){return new(r||t)(a(q))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var ri=(()=>{class t{offerService;actions$=A(x);constructor(e){this.offerService=e}getMyOffersMeta$=d(()=>this.actions$.pipe(m(Rr),C(()=>this.offerService.getMyOffersMeta().pipe(l(e=>Bt({meta:e})),f(e=>u(Or()))))));getMyOffers$=d(()=>this.actions$.pipe(m(zt),C(e=>this.offerService.getMyOffers(e.page).pipe(l(r=>Jt({offers:r})),f(()=>u(xr()))))));static \u0275fac=function(r){return new(r||t)(a(q))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var Ce=(()=>{class t{http;API_PREFIX;constructor(e){this.http=e,this.API_PREFIX="article"}getAllArticles(){return this.http.get(`${this.API_PREFIX}/all`)}getArticle(e){return this.http.get(`${this.API_PREFIX}/${e}`)}static \u0275fac=function(r){return new(r||t)(a(D))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var oi=(()=>{class t{offerService;articleService;actions$=A(x);constructor(e,r){this.offerService=e,this.articleService=r}getFeatures$=d(()=>this.actions$.pipe(m(ar),C(()=>this.offerService.getFeatures().pipe(l(e=>yt({features:e})),f(()=>u(fr()))))));getSearchMeta$=d(()=>this.actions$.pipe(m(pr),C(e=>this.offerService.getSearchMeta(e.transactionType,e.typeOfGood,e.cityIds,e.minPrice,e.maxPrice,e.minSquareMeters,e.maxSquareMeters,e.nbRooms,e.nbBedrooms,e.features).pipe(l(r=>Pt({meta:r})),f(r=>u(ur()))))));search$=d(()=>this.actions$.pipe(m(wt),C(e=>this.offerService.search(e.transactionType,e.typeOfGood,e.cityIds,e.minPrice,e.maxPrice,e.minSquareMeters,e.maxSquareMeters,e.nbRooms,e.nbBedrooms,e.features,e.page).pipe(l(r=>Mt({offers:r})),f(r=>u(lr()))))));getArticles$=d(()=>this.actions$.pipe(m(_t),C(()=>this.articleService.getAllArticles().pipe(l(e=>Ut({articles:e})),f(()=>u(bt()))))));static \u0275fac=function(r){return new(r||t)(a(q),a(Ce))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var ni=(()=>{class t{articleService;actions$=A(x);constructor(e){this.articleService=e}getArticle$=d(()=>this.actions$.pipe(m(jt),C(e=>this.articleService.getArticle(e.articleId).pipe(l(r=>Tt({article:r})),f(()=>u(Nt()))))));static \u0275fac=function(r){return new(r||t)(a(Ce))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var po={status:"PENDING",errors:null},si=E(po,c(pt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(ut,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(lt,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i}))),uo={status:"IN_PROGRESS"},ci=E(uo,c(dt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(mt,t=>s(n({},t),{status:"SUCCESS"})),c(ht,t=>s(n({},t),{status:"ERROR"}))),ai={status:"PENDING",errors:null},fi=E(ai,c(gt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(St,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(At,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i})));var pi=E(ai,c(Ct,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Et,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(vt,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i}))),lo={status:"PENDING",errors:null},ui=E(lo,c(It,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Rt,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(Ot,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i})));var mo={user:null,status:"PENDING"},li=E(mo,c(L,t=>s(n({},t),{status:"IN_PROGRESS"})),c(se,(t,{user:i})=>s(n({},t),{user:i,status:"SUCCESS"})),c(ce,t=>s(n({},t),{status:"ERROR"})),c(ae,(t,{email:i})=>s(n({},t),{user:{id:t.user?.id,email:i}})),c(fe,t=>s(n({},t),{user:null})));var ho={contact:null,status:"PENDING"},di=E(ho,c(nt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(le,(t,{contact:i})=>s(n({},t),{contact:i,status:"SUCCESS"})),c(de,t=>s(n({},t),{status:"ERROR"})),c(me,(t,{email:i,telephone:e,whatsapp:r})=>s(n({},t),{contact:{email:i,telephone:e,whatsapp:r}})));var go={status:"PENDING",errors:null},mi=E(go,c(Fr,t=>s(n({},t),{status:"PENDING",errors:null})),c(qt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Yt,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(Kt,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i}))),So={status:"PENDING",errors:null},hi=E(So,c(yr,t=>s(n({},t),{status:"PENDING",errors:null})),c(Zt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Wt,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(Qt,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i}))),Ao={status:"PENDING",errors:null},gi=E(Ao,c(Pr,t=>s(n({},t),{status:"PENDING",errors:null})),c(te,t=>s(n({},t),{status:"IN_PROGRESS"})),c(ee,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(re,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i}))),Co={status:"PENDING"},Si=E(Co,c(wr,t=>s(n({},t),{status:"PENDING"})),c(ie,t=>s(n({},t),{status:"IN_PROGRESS"})),c(oe,t=>s(n({},t),{status:"SUCCESS"})),c(ne,t=>s(n({},t),{status:"ERROR"})));var Eo={images:[]},Ai=E(Eo,c(Ar,t=>s(n({},t),{images:[]})),c(Lt,(t,{image:i})=>s(n({},t),{images:[...t.images,i]})),c(Xt,(t,{key:i,link:e,index:r})=>{let o=JSON.parse(JSON.stringify(t.images));return o[r].fileKey=i,o[r].fileLink=e,o[r].status="SUCCESS",o[r].error=null,s(n({},t),{images:o})}),c(Vt,(t,{error:i,index:e})=>{let r=JSON.parse(JSON.stringify(t.images));return r[e].error=i,r[e].status="ERROR",s(n({},t),{images:r})}),c(Ir,(t,{index:i})=>{let e=JSON.parse(JSON.stringify(t.images));return e.splice(i,1),s(n({},t),{images:e})}));var vo={features:null,errors:null},Ci=E(vo,c(dr,t=>s(n({},t),{errors:null})),c(Gt,(t,{features:i})=>s(n({},t),{features:i})),c(Ht,(t,{errors:i})=>s(n({},t),{errors:i})));var Io={offer:null,status:"PENDING",errors:null},Ei=E(Io,c(kt,t=>s(n({},t),{status:"IN_PROGRESS"})),c($t,(t,{offer:i})=>s(n({},t),{offer:i,status:"SUCCESS",errors:null})),c(Dt,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i})));var Ro={meta:null,offers:[],status:"PENDING"},vi=E(Ro,c(Bt,(t,{meta:i})=>s(n({},t),{meta:i})),c(zt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Jt,(t,{offers:i})=>s(n({},t),{offers:i,status:"SUCCESS"})));var Oo={features:null,meta:null,offers:[],status:"PENDING"},Ii=E(Oo,c(yt,(t,{features:i})=>s(n({},t),{features:i})),c(Pt,(t,{meta:i})=>s(n({},t),{meta:i})),c(wt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Mt,(t,{offers:i})=>s(n({},t),{offers:i,status:"SUCCESS"}))),xo={articles:[],status:"PENDING"},Ri=E(xo,c(_t,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Ut,(t,{articles:i})=>s(n({},t),{articles:i,status:"SUCCESS"})),c(bt,t=>s(n({},t),{articles:[],status:"ERROR"})));var Fo={article:null,status:"PENDING"},Oi=E(Fo,c(jt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Tt,(t,{article:i})=>s(n({},t),{article:i,status:"SUCCESS"})),c(Nt,t=>s(n({},t),{status:"ERROR"})));var xi={register:si,registerConfirm:ci,login:fi,passwordForgotten:pi,resetPassword:ui,user:li,contact:di,settingsAccountEmail:mi,settingsAccountPassword:hi,settingsAccountContact:gi,settingsAccountDelete:Si,imageUpload:Ai,newOfferFeatures:Ci,offer:Ei,myOffers:vi,search:Ii,articles:Ri,article:Oi},Fi=[zr,qr,Yr,Zr,Qr,ti,ei,ri,oi,ni];function yo(t){return new pe(t)}var yi={providers:[Ge({eventCoalescing:!0}),Qe(Vr),ir(xi),Dr(Fi),Ye(),Ve(ze(),Be([Hr])),Te(J.forRoot({loader:{provide:or,useFactory:yo,deps:[D]}}))]};var Po={providers:[Ke()]},Pi=He(yi,Po);var wo=()=>Je(jr,Pi),Kc=wo;export{Kc as a};
