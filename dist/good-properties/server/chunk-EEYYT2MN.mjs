import './polyfills.server.mjs';
import{a as Or,b as Vt,c as xr,d as zt,e as qt,f as yr}from"./chunk-F6YOLJIV.mjs";import{a as sr,c as Fr,d as Jt,e as Yt,f as Kt,g as Pr,h as Wt,i as Zt,j as Qt,k as wr,l as te,m as ee,n as re,o as Mr,p as ie,q as oe,r as ne}from"./chunk-KHHOXYGC.mjs";import{a as pt,b as ut,c as lt,d as dt,e as mt,f as gt,g as ht,h as St,i as At,j as ot,k as Ct,l as Et,m as vt,n as It,o as Rt,p as Ot}from"./chunk-JMDKFUX5.mjs";import{c as We}from"./chunk-SZDR5P22.mjs";import{a as fr,b as Ft,c as pr,d as ur,e as Pt,f as lr,g as wt,h as Mt,i as dr,j as _t,k as Ut,l as bt}from"./chunk-3AU5X4CN.mjs";import{a as cr,b as jt,c as Tt,d as Nt}from"./chunk-6WDJA7GR.mjs";import{a as xt,b as yt,c as kt,d as $t,e as Dt}from"./chunk-AJXHUQYK.mjs";import{a as ar}from"./chunk-OA3WBR5E.mjs";import{a as mr,b as gr,c as Gt,d as hr,e as Sr,f as Ar,g as Ht,h as Cr,i as Lt,j as Xt,k as Bt,l as Er,m as vr,n as Ir,o as Rr}from"./chunk-LP4MHVAQ.mjs";import{b as N,c as rt,d as er,e as rr,f as ir,g as q,i as or,j as c,k as E,l as nr,n as it,o as J}from"./chunk-TFWXTRYT.mjs";import{A as Me,Aa as $e,Ab as _,B as _e,Ca as P,Da as Q,E as j,F as ve,G as Ue,Jb as He,Ma as De,N as K,R as p,Sa as Ge,T as X,Tb as Le,U as a,V as A,Wa as I,Wb as Xe,Xa as R,Y as be,Ya as $,Z as B,Za as Ie,a as ye,ac as Be,b as Fe,ba as je,ca as Te,cb as V,db as tt,fc as D,ga as W,h as l,ha as Z,hc as Ve,ic as ze,j as m,jc as qe,ka as Ne,l as G,ob as w,oc as Je,pb as Re,pc as Ye,qb as T,qc as Ke,r as Ee,rc as Ze,sa as ke,t as et,tc as Qe,ub as z,vc as H,w as f,wc as at,x as C,xc as tr,y as Pe,yc as ft,z as we,zb as M}from"./chunk-NYYUEVQ5.mjs";import{a as n,b as s}from"./chunk-5XUXGTUW.mjs";var L=N("[User] Get Current User"),se=N("[User] Get Current User Success",rt()),ce=N("[User] Get Current User Failed"),ae=N("[User] Update Current User Email",rt()),fe=N("[User] Clear Current User");function Mi(t,i){if(t&1){let e=Ie();I(0,"li",7)(1,"a",8),V("click",function(){W(e);let o=tt();return Z(o.hideHamburgerMenu())}),w(2),M(3,"translate"),R()(),I(4,"li",7)(5,"a",9),V("click",function(){W(e);let o=tt();return Z(o.hideHamburgerMenu())}),w(6),M(7,"translate"),R()()}t&2&&(P(2),T(" ",_(3,2,"LOGIN")," "),P(4),T(" ",_(7,4,"REGISTER")," "))}function _i(t,i){if(t&1){let e=Ie();I(0,"li",7)(1,"a",10),V("click",function(){W(e);let o=tt();return Z(o.hideHamburgerMenu())}),$(2,"span",11),w(3),M(4,"translate"),R()(),I(5,"li",12)(6,"a",13),$(7,"span",14),w(8),M(9,"translate"),R(),I(10,"ul",15)(11,"li")(12,"a",16),V("click",function(){W(e);let o=tt();return Z(o.hideHamburgerMenu())}),w(13),M(14,"translate"),R()(),I(15,"li")(16,"a",17),V("click",function(){W(e);let o=tt();return Z(o.hideHamburgerMenu())}),w(17),M(18,"translate"),R()(),I(19,"li"),$(20,"hr",18),R(),I(21,"li")(22,"a",19),V("click",function(){W(e);let o=tt();return o.onLogoutClick(),Z(o.hideHamburgerMenu())}),w(23),M(24,"translate"),R()()()()}t&2&&(P(3),T(" ",_(4,5,"CREATE_OFFER")," "),P(5),T(" ",_(9,7,"MY_ACCOUNT")," "),P(5),T(" ",_(14,9,"MY_OFFERS")," "),P(4),T(" ",_(18,11,"SETTINGS")," "),P(6),T(" ",_(24,13,"LOGOUT")," "))}var br=(()=>{class t{store;user$;user;constructor(e){this.store=e,this.user$=this.store.select(sr),this.user$.subscribe(r=>this.user=r)}hideHamburgerMenu(){let e=document.querySelector(".navbar-toggler");e&&e.click()}onWindowClick(e){let r=document.querySelector("header"),o=document.querySelector(".navbar-collapse.collapse.show");r?.contains(e.target)===!1&&o&&this.hideHamburgerMenu()}onLogoutClick(){this.store.dispatch(ot({delay:0}))}static \u0275fac=function(r){return new(r||t)(Q(q))};static \u0275cmp=B({type:t,selectors:[["app-header"]],hostBindings:function(r,o){r&1&&V("click",function(u){return o.onWindowClick(u)},!1,$e)},standalone:!0,features:[z],decls:12,vars:4,consts:[[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","app-logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/auth/login","data-toggle","collapse","data-target",".navbar-collapse.show",1,"nav-link",3,"click"],["routerLink","/auth/register",1,"nav-link",3,"click"],["routerLink","/new-offer",1,"nav-link",3,"click"],[1,"fa-solid","fa-plus"],[1,"nav-item","dropdown"],["href","javascript:void(0)","data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle"],[1,"fa-regular","fa-circle-user"],[1,"dropdown-menu"],["routerLink","/my-offers",1,"dropdown-item",3,"click"],["routerLink","/settings",1,"dropdown-item",3,"click"],[1,"dropdown-divider"],["href","javascript:void(0)",1,"dropdown-item",3,"click"]],template:function(r,o){r&1&&(I(0,"header")(1,"nav",0)(2,"div",1)(3,"a",2),w(4),M(5,"translate"),R(),I(6,"button",3),$(7,"span",4),R(),I(8,"div",5)(9,"ul",6),De(10,Mi,8,6)(11,_i,25,15),R()()()()()),r&2&&(P(4),T(" ",_(5,2,"TITLE")," "),P(6),Ge(o.user===null?10:11))},dependencies:[J,it,ft,at],styles:["header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:1000;background-color:#fff;box-shadow:0 0 10px #333}header[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{border-radius:0}@media only screen and (min-width: 992px){header[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{top:46px;border:none;box-shadow:0 5px 5px #00000080}}"]})}return t})();var jr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=B({type:t,selectors:[["app-footer"]],standalone:!0,features:[z],decls:20,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-12","col-md-3","text-center","text-md-start"],["routerLink","/",1,"app-logo","app-link-grey"],["href","javascript:void(0)",1,"app-link-grey","fa-brands","fa-facebook"],["href","javascript:void(0)",1,"app-link-grey","fa-brands","fa-twitter"],["href","javascript:void(0)",1,"app-link-grey","fa-brands","fa-instagram"],[1,"col-12","col-md-6","text-center","text-md-end"],["href","javascript:void(0)",1,"app-link-grey"]],template:function(r,o){r&1&&(I(0,"footer",0),$(1,"hr"),I(2,"div",1)(3,"div",2)(4,"a",3),w(5),M(6,"translate"),R()(),I(7,"div",2),$(8,"a",4)(9,"a",5)(10,"a",6),R(),I(11,"div",7)(12,"a",8),w(13),M(14,"translate"),R(),I(15,"span"),w(16,"\xB7"),R(),I(17,"a",8),w(18),M(19,"translate"),R()()()()),r&2&&(P(5),T(" \xA9 ",_(6,3,"TITLE")," "),P(8),T(" ",_(14,5,"TOS")," "),P(5),T(" ",_(19,7,"PRIVACY_POLICY")," "))},dependencies:[ft,at,J,it],styles:[".container[_ngcontent-%COMP%]{max-width:100%;padding-bottom:1rem;margin-top:1rem}.container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:0}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (width >= 768px){.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){min-width:150px;max-width:150px}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1)   a[_ngcontent-%COMP%]{font-size:1.2rem}}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1)   a[_ngcontent-%COMP%]{font-size:1.2rem}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){flex-grow:1}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)   a[_ngcontent-%COMP%]{font-size:1.5rem}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2)   a[_ngcontent-%COMP%]:not(:first-of-type){margin-left:1rem}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){flex-grow:1}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3)   div[_ngcontent-%COMP%]{margin-left:auto}"]})}return t})();var Tr=(()=>{class t{store;router;titleService;translationService;userStatus$;userStatus;constructor(e,r,o,d){this.store=e,this.router=r,this.titleService=o,this.translationService=d}ngOnInit(){this.router.events.pipe(et(e=>e instanceof Ze),m(()=>{let e=this.router.routerState.root,r="";for(;e.firstChild;)e=e.firstChild;return e.snapshot.data.title&&(r=e.snapshot.data.title),r})).subscribe(e=>{e&&(e==="TITLE"?this.titleService.setTitle(this.translationService.instant("TITLE")):this.titleService.setTitle(`${this.translationService.instant(e)} - ${this.translationService.instant("TITLE")}`))}),this.store.dispatch(L())}static \u0275fac=function(r){return new(r||t)(Q(q),Q(H),Q(Ye),Q(cr))};static \u0275cmp=B({type:t,selectors:[["app-root"]],standalone:!0,features:[z],decls:4,vars:0,template:function(r,o){r&1&&($(0,"app-header"),I(1,"main"),$(2,"router-outlet"),R(),$(3,"app-footer"))},dependencies:[Qe,br,jr]})}return t})();var pe=class{http;prefix;suffix;constructor(i,e="/assets/i18n/",r=".json"){this.http=i,this.prefix=e,this.suffix=r}getTranslation(i){return this.http.get(`${this.prefix}${i}${this.suffix}`)}};var Ui={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},ue="__@ngrx/effects_create__";function g(t,i={}){let e=i.functional?t:t(),r=n(n({},Ui),i);return Object.defineProperty(e,ue,{value:r}),e}function bi(t){return Object.getOwnPropertyNames(t).filter(r=>t[r]&&t[r].hasOwnProperty(ue)?t[r][ue].hasOwnProperty("dispatch"):!1).map(r=>{let o=t[r][ue];return n({propertyName:r},o)})}function ji(t){return bi(t)}function Nr(t){return Object.getPrototypeOf(t)}function Ti(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function kr(t){return typeof t=="function"}function Ni(t){return t.filter(kr)}function ki(t,i,e){let r=Nr(t),d=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,u=ji(t).map(({propertyName:v,dispatch:F,useEffectsErrorHandler:b})=>{let k=typeof t[v]=="function"?t[v]():t[v],y=b?e(k,i):k;return F===!1?y.pipe(we()):y.pipe(Ue()).pipe(m(U=>({effect:t[v],notification:U,propertyName:v,sourceName:d,sourceInstance:t})))});return Ee(...u)}var $i=10;function $r(t,i,e=$i){return t.pipe(f(r=>(i&&i.handleError(r),e<=1?t:$r(t,i,e-1))))}var x=(()=>{let i=class i extends ye{constructor(r){super(),r&&(this.source=r)}lift(r){let o=new i;return o.source=this,o.operator=r,o}};i.\u0275fac=function(o){return new(o||i)(a(ir))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();function h(...t){return et(i=>t.some(e=>typeof e=="string"?e===i.type:e.type===i.type))}var fn=new X("@ngrx/effects Internal Root Guard"),pn=new X("@ngrx/effects User Provided Effects"),un=new X("@ngrx/effects Internal Root Effects"),ln=new X("@ngrx/effects Internal Root Effects Instances"),dn=new X("@ngrx/effects Internal Feature Effects"),mn=new X("@ngrx/effects Internal Feature Effects Instance Groups"),Di=new X("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>$r}),Gi="@ngrx/effects/init",Hi=N(Gi);function Li(t,i){if(t.notification.kind==="N"){let e=t.notification.value;!Xi(e)&&i.handleError(new Error(`Effect ${Bi(t)} dispatched an invalid action: ${Vi(e)}`))}}function Xi(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function Bi({propertyName:t,sourceInstance:i,sourceName:e}){let r=typeof i[t]=="function";return!!e?`"${e}.${String(t)}${r?"()":""}"`:`"${String(t)}()"`}function Vi(t){try{return JSON.stringify(t)}catch{return t}}var zi="ngrxOnIdentifyEffects";function qi(t){return xe(t,zi)}var Ji="ngrxOnRunEffects";function Yi(t){return xe(t,Ji)}var Ki="ngrxOnInitEffects";function Wi(t){return xe(t,Ki)}function xe(t,i){return t&&i in t&&typeof t[i]=="function"}var Dr=(()=>{let i=class i extends Fe{constructor(r,o){super(),this.errorHandler=r,this.effectsErrorHandler=o}addEffects(r){this.next(r)}toActions(){return this.pipe(ve(r=>Ti(r)?Nr(r):r),G(r=>r.pipe(ve(Zi))),G(r=>{let o=r.pipe(j(u=>Qi(this.errorHandler,this.effectsErrorHandler)(u)),m(u=>(Li(u,this.errorHandler),u.notification)),et(u=>u.kind==="N"&&u.value!=null),_e()),d=r.pipe(Pe(1),et(Wi),m(u=>u.ngrxOnInitEffects()));return Ee(o,d)}))}};i.\u0275fac=function(o){return new(o||i)(a(Ne),a(Di))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();function Zi(t){return qi(t)?t.ngrxOnIdentifyEffects():""}function Qi(t,i){return e=>{let r=ki(e,t,i);return Yi(e)?e.ngrxOnRunEffects(r):r}}var to=(()=>{let i=class i{get isStarted(){return!!this.effectsSubscription}constructor(r,o){this.effectSources=r,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};i.\u0275fac=function(o){return new(o||i)(a(Dr),a(q))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();function Gr(...t){let i=t.flat(),e=Ni(i);return je([e,{provide:be,multi:!0,useValue:()=>{A(er),A(rr,{optional:!0});let r=A(to),o=A(Dr),d=!r.isStarted;d&&r.start();for(let u of i){let v=kr(u)?A(u):u;o.addEffects(v)}d&&A(q).dispatch(Hi())}}])}var Hr={API_URL:"https://api-goodproperties.r3tests.net/v1"};var Lr=(t,i)=>{let{url:e}=t;if(e.includes("assets"))return i(t);let r={url:`${Hr.API_URL}/${e}`};return i(t.clone(r))};var Xr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=B({type:t,selectors:[["app-not-found"]],standalone:!0,features:[z],decls:7,vars:6,consts:[["id","main-container"]],template:function(r,o){r&1&&(I(0,"div",0)(1,"h2"),w(2),M(3,"translate"),R(),I(4,"p"),w(5),M(6,"translate"),R()()),r&2&&(P(2),Re(_(3,2,"PAGES.NOT_FOUND.TITLE")),P(3),Re(_(6,4,"PAGES.NOT_FOUND.MESSAGE")))},dependencies:[J,it],styles:["#main-container[_ngcontent-%COMP%]{text-align:center;margin-top:10rem}"]})}return t})();var Br=(t,i)=>{let e=A(H),r=A(ar);return A(xt).authorized().pipe(m(()=>(r.isPlatformBrowser()&&e.navigate(["/"]),!1)),f(()=>l(!0)))};var Vr=[{path:"",loadChildren:()=>import("./chunk-7QVQIZRS.mjs").then(t=>t.SearchModule)},{path:"article",loadChildren:()=>import("./chunk-PAICAKRC.mjs").then(t=>t.ArticleModule)},{path:"offer",loadChildren:()=>import("./chunk-ZMX22HYI.mjs").then(t=>t.OfferModule)},{path:"new-offer",loadChildren:()=>import("./chunk-PISGDTTJ.mjs").then(t=>t.NewOfferModule),canActivate:[yt]},{path:"my-offers",loadChildren:()=>import("./chunk-YNN7VCIY.mjs").then(t=>t.MyOffersModule),canActivate:[yt]},{path:"settings",loadChildren:()=>import("./chunk-GSQZAHWQ.mjs").then(t=>t.SettingsModule),canActivate:[yt]},{path:"auth",loadChildren:()=>import("./chunk-4MD3XXXC.mjs").then(t=>t.AuthModule),canActivate:[Br]},{path:"**",component:Xr}];var zr=(()=>{let i=class i{constructor(r,o){this.document=r,this.platformId=o,this.documentIsAccessible=Be(this.platformId)}static getCookieRegExp(r){let o=r.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+o+"|;\\s*"+o+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(r){try{return decodeURIComponent(r)}catch{return r}}check(r){return this.documentIsAccessible?(r=encodeURIComponent(r),i.getCookieRegExp(r).test(this.document.cookie)):!1}get(r){if(this.documentIsAccessible&&this.check(r)){r=encodeURIComponent(r);let d=i.getCookieRegExp(r).exec(this.document.cookie);return d[1]?i.safeDecodeURIComponent(d[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let r={},o=this.document;return o.cookie&&o.cookie!==""&&o.cookie.split(";").forEach(d=>{let[u,v]=d.split("=");r[i.safeDecodeURIComponent(u.replace(/^ /,""))]=i.safeDecodeURIComponent(v)}),r}set(r,o,d,u,v,F,b,k){if(!this.documentIsAccessible)return;if(typeof d=="number"||d instanceof Date||u||v||F||b){let U={expires:d,path:u,domain:v,secure:F,sameSite:b||"Lax",partitioned:k};this.set(r,o,U);return}let y=encodeURIComponent(r)+"="+encodeURIComponent(o)+";",S=d||{};if(S.expires)if(typeof S.expires=="number"){let U=new Date(new Date().getTime()+S.expires*1e3*60*60*24);y+="expires="+U.toUTCString()+";"}else y+="expires="+S.expires.toUTCString()+";";S.path&&(y+="path="+S.path+";"),S.domain&&(y+="domain="+S.domain+";"),S.secure===!1&&S.sameSite==="None"&&(S.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${r} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),S.secure&&(y+="secure;"),S.sameSite||(S.sameSite="Lax"),y+="sameSite="+S.sameSite+";",S.partitioned&&(y+="Partitioned;"),this.document.cookie=y}delete(r,o,d,u,v="Lax"){if(!this.documentIsAccessible)return;let F=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(r,"",{expires:F,path:o,domain:d,secure:u,sameSite:v})}deleteAll(r,o,d,u="Lax"){if(!this.documentIsAccessible)return;let v=this.getAll();for(let F in v)v.hasOwnProperty(F)&&this.delete(F,r,o,d,u)}};i.\u0275fac=function(o){return new(o||i)(a(Xe),a(ke))},i.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var qr=(()=>{class t{router;cookieService;authService;actions$=A(x);constructor(e,r,o){this.router=e,this.cookieService=r,this.authService=o}register$=g(()=>this.actions$.pipe(h(pt),j(e=>this.authService.register(e.email,e.password,e.repeatedPassword).pipe(m(()=>ut()),f(r=>l(lt({errors:r.error})))))));registerConfirm$=g(()=>this.actions$.pipe(h(dt),j(e=>this.authService.registerConfirm(e.confirmationToken).pipe(C(()=>[mt(),L()]),K(()=>setTimeout(()=>this.router.navigate(["/"]),3e3)),f(r=>l(gt()))))));login$=g(()=>this.actions$.pipe(h(ht),j(e=>this.authService.login(e.email,e.password).pipe(G(()=>[St(),L()]),K(()=>this.router.navigate(["/"])),f(r=>l(At({errors:r.error})))))));logout$=g(()=>this.actions$.pipe(h(ot),j(e=>this.authService.logout().pipe(Me(e.delay),m(()=>fe()),K(()=>{(this.router.url==="/new-offer"||this.router.url==="/my-offers"||this.router.url.startsWith("/settings")||/\/offer\/.*\/edit/g.test(this.router.url))&&this.router.navigate(["/"]),this.cookieService.delete("token","/")})))));passwordForgotten$=g(()=>this.actions$.pipe(h(Ct),j(e=>this.authService.passwordForgotten(e.email).pipe(m(()=>Et()),f(r=>l(vt({errors:r.error})))))));resetPassword$=g(()=>this.actions$.pipe(h(It),j(e=>this.authService.resetPasword(e.password,e.repeatedPassword,e.resetPasswordToken).pipe(C(()=>[Rt(),L()]),K(()=>setTimeout(()=>this.router.navigate(["/"]),3e3)),f(r=>l(Ot({errors:r.error})))))));static \u0275fac=function(r){return new(r||t)(a(H),a(zr),a(xt))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var nt=N("[Contact] Get Current User Contact"),le=N("[Contact] Get Current User Contact Success",rt()),de=N("[Contact] Get Current User Contact Failed"),me=N("[Contact] Update Current User Contact",rt());var Se=(()=>{class t{http;API_PREFIX;constructor(e){this.http=e,this.API_PREFIX="user"}getCurrentUser(){return this.http.get(this.API_PREFIX,{withCredentials:!0})}getCurrentUserContact(){return this.http.get(`${this.API_PREFIX}/contact`,{withCredentials:!0})}static \u0275fac=function(r){return new(r||t)(a(D))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Yr=(()=>{class t{userService;action$=A(x);constructor(e){this.userService=e}getCurrentUser$=g(()=>this.action$.pipe(h(L),j(()=>this.userService.getCurrentUser().pipe(C(e=>[se({user:e}),nt()]),f(()=>l(ce()))))));static \u0275fac=function(r){return new(r||t)(a(Se))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var Kr=(()=>{class t{userService;action$=A(x);constructor(e){this.userService=e}getCurrentUserContact$=g(()=>this.action$.pipe(h(nt),j(()=>this.userService.getCurrentUserContact().pipe(m(e=>le({contact:e})),f(()=>l(de()))))));static \u0275fac=function(r){return new(r||t)(a(Se))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var Wr=(()=>{class t{http;API_PREFIX;constructor(e){this.http=e,this.API_PREFIX="user/setting"}updateEmail(e){let r={email:e};return this.http.put(`${this.API_PREFIX}/email`,r,{withCredentials:!0})}updatePassword(e,r){let o={password:e,repeatedPassword:r};return this.http.put(`${this.API_PREFIX}/password`,o,{withCredentials:!0})}updateContact(e,r,o){let d={email:e,telephone:r,whatsapp:o};return this.http.put(`${this.API_PREFIX}/contact`,d,{withCredentials:!0})}deleteAccount(){return this.http.delete(`${this.API_PREFIX}/delete`,{withCredentials:!0})}static \u0275fac=function(r){return new(r||t)(a(D))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zr=(()=>{class t{router;settingsService;actions$=A(x);constructor(e,r){this.router=e,this.settingsService=r}updateEmail$=g(()=>this.actions$.pipe(h(Jt),C(e=>this.settingsService.updateEmail(e.email).pipe(C(()=>[Yt(),ae({email:e.email})]),f(r=>l(Kt({errors:r.error})))))));updatePassword$=g(()=>this.actions$.pipe(h(Wt),C(e=>this.settingsService.updatePassword(e.password,e.repeatedPassword).pipe(m(()=>Zt()),f(r=>l(Qt({errors:r.error})))))));updateContact$=g(()=>this.actions$.pipe(h(te),C(e=>this.settingsService.updateContact(e.email,e.telephone,e.whatsapp).pipe(C(()=>[ee(),me({email:e.email,telephone:e.telephone,whatsapp:e.whatsapp})]),f(r=>l(re({errors:r.error})))))));deleteAccount$=g(()=>this.actions$.pipe(h(ie),G(()=>this.settingsService.deleteAccount().pipe(C(()=>[oe(),ot({delay:3e3})]),f(()=>l(ne()))))));static \u0275fac=function(r){return new(r||t)(a(H),a(Wr))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var Qr=(()=>{class t{http;API_PREFIX;constructor(e){this.http=e,this.API_PREFIX="file"}uploadFile(e){let r=new FormData;return r.append("file",e),this.http.post(this.API_PREFIX,r,{withCredentials:!0})}deleteFile(e){let r={fileName:e};return this.http.delete(this.API_PREFIX,{body:r,withCredentials:!0})}static \u0275fac=function(r){return new(r||t)(a(D))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ti=(()=>{class t{fileService;action$=A(x);constructor(e){this.fileService=e}uploadImage$=g(()=>this.action$.pipe(h(Lt),G(e=>this.fileService.uploadFile(e.file).pipe(m(r=>Xt({key:r.key,link:r.link,index:e.index})),f(r=>l(Bt({error:r.error,index:e.index})))))));deleteImage$=g(()=>this.action$.pipe(h(Er),G(e=>this.fileService.deleteFile(e.key).pipe(m(()=>vr()),f(r=>l(Ir()))))));static \u0275fac=function(r){return new(r||t)(a(Qr))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var Y=(()=>{class t{http;API_PREFIX;constructor(e){this.http=e,this.API_PREFIX="offer"}getFeatures(){return this.http.get(`${this.API_PREFIX}/features`)}getOffer(e){return this.http.get(`${this.API_PREFIX}/${e}`)}getMyOffersMeta(){return this.http.get(`${this.API_PREFIX}/my-offers/meta`,{withCredentials:!0})}getMyOffers(e){return this.http.get(`${this.API_PREFIX}/my-offers`,{withCredentials:!0,params:{page:e}})}createOffer(e,r,o,d,u,v,F,b,k,y){let S={images:e,type_of_good:r,transaction_type:o,square_meters:d,nb_rooms:u,nb_bedrooms:v,price:F,description:b,city_id:k,features:y};return this.http.post(this.API_PREFIX,S,{withCredentials:!0})}getSearchMeta(e,r,o,d,u,v,F,b,k,y){let S={transaction_type:e,type_of_good:r,city_ids:o};return d&&(S.min_price=d),u&&(S.max_price=u),v&&(S.min_square_meters=v),F&&(S.max_square_meters=F),b&&(S.nb_rooms=b),k&&(S.nb_bedrooms=k),y&&(S.features=y),this.http.get(`${this.API_PREFIX}/search/meta`,{params:S})}search(e,r,o,d,u,v,F,b,k,y,S){let U={transaction_type:e,type_of_good:r,city_ids:o};return d&&(U.min_price=d),u&&(U.max_price=u),v&&(U.min_square_meters=v),F&&(U.max_square_meters=F),b&&(U.nb_rooms=b),k&&(U.nb_bedrooms=k),y&&(U.features=y),S&&(U.page=S),this.http.get(`${this.API_PREFIX}/search`,{params:U})}static \u0275fac=function(r){return new(r||t)(a(D))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ei=(()=>{class t{router;offerService;actions$=A(x);constructor(e,r){this.router=e,this.offerService=r}getFeatures$=g(()=>this.actions$.pipe(h(gr),C(()=>this.offerService.getFeatures().pipe(m(e=>Gt({features:e})),f(()=>l(hr()))))));createOffer$=g(()=>this.actions$.pipe(h(Sr),C(e=>this.offerService.createOffer(e.images,e.typeOfGood,e.transactionType,e.squareMeters,e.nbRooms,e.nbBedrooms,e.price,e.description,e.cityId,e.features).pipe(m(r=>Ar({id:r.id})),K(r=>this.router.navigate(["/offer",r.id])),f(r=>l(Ht({errors:r.error})))))));static \u0275fac=function(r){return new(r||t)(a(H),a(Y))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var ri=(()=>{class t{offerService;actions$=A(x);constructor(e){this.offerService=e}getOffer$=g(()=>this.actions$.pipe(h(kt),C(e=>this.offerService.getOffer(e.id).pipe(m(r=>$t({offer:r})),f(r=>l(Dt({errors:r.error})))))));static \u0275fac=function(r){return new(r||t)(a(Y))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var ii=(()=>{class t{offerService;actions$=A(x);constructor(e){this.offerService=e}getMyOffersMeta$=g(()=>this.actions$.pipe(h(Or),C(()=>this.offerService.getMyOffersMeta().pipe(m(e=>Vt({meta:e})),f(e=>l(xr()))))));getMyOffers$=g(()=>this.actions$.pipe(h(zt),C(e=>this.offerService.getMyOffers(e.page).pipe(m(r=>qt({offers:r})),f(()=>l(yr()))))));static \u0275fac=function(r){return new(r||t)(a(Y))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var Ce=(()=>{class t{http;API_PREFIX;constructor(e){this.http=e,this.API_PREFIX="article"}getAllArticles(){return this.http.get(`${this.API_PREFIX}/all`)}getArticle(e){return this.http.get(`${this.API_PREFIX}/${e}`)}static \u0275fac=function(r){return new(r||t)(a(D))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ni=(()=>{class t{offerService;articleService;actions$=A(x);constructor(e,r){this.offerService=e,this.articleService=r}getFeatures$=g(()=>this.actions$.pipe(h(fr),C(()=>this.offerService.getFeatures().pipe(m(e=>Ft({features:e})),f(()=>l(pr()))))));getSearchMeta$=g(()=>this.actions$.pipe(h(ur),C(e=>this.offerService.getSearchMeta(e.transactionType,e.typeOfGood,e.cityIds,e.minPrice,e.maxPrice,e.minSquareMeters,e.maxSquareMeters,e.nbRooms,e.nbBedrooms,e.features).pipe(m(r=>Pt({meta:r})),f(r=>l(lr()))))));search$=g(()=>this.actions$.pipe(h(wt),C(e=>this.offerService.search(e.transactionType,e.typeOfGood,e.cityIds,e.minPrice,e.maxPrice,e.minSquareMeters,e.maxSquareMeters,e.nbRooms,e.nbBedrooms,e.features,e.page).pipe(m(r=>Mt({offers:r})),f(r=>l(dr()))))));getArticles$=g(()=>this.actions$.pipe(h(_t),C(()=>this.articleService.getAllArticles().pipe(m(e=>Ut({articles:e})),f(()=>l(bt()))))));static \u0275fac=function(r){return new(r||t)(a(Y),a(Ce))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var si=(()=>{class t{articleService;actions$=A(x);constructor(e){this.articleService=e}getArticle$=g(()=>this.actions$.pipe(h(jt),C(e=>this.articleService.getArticle(e.articleId).pipe(m(r=>Tt({article:r})),f(()=>l(Nt()))))));static \u0275fac=function(r){return new(r||t)(a(Ce))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var uo={status:"PENDING",errors:null},ci=E(uo,c(pt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(ut,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(lt,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i}))),lo={status:"IN_PROGRESS"},ai=E(lo,c(dt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(mt,t=>s(n({},t),{status:"SUCCESS"})),c(gt,t=>s(n({},t),{status:"ERROR"}))),fi={status:"PENDING",errors:null},pi=E(fi,c(ht,t=>s(n({},t),{status:"IN_PROGRESS"})),c(St,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(At,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i})));var ui=E(fi,c(Ct,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Et,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(vt,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i}))),mo={status:"PENDING",errors:null},li=E(mo,c(It,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Rt,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(Ot,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i})));var go={user:null,status:"PENDING"},di=E(go,c(L,t=>s(n({},t),{status:"IN_PROGRESS"})),c(se,(t,{user:i})=>s(n({},t),{user:i,status:"SUCCESS"})),c(ce,t=>s(n({},t),{status:"ERROR"})),c(ae,(t,{email:i})=>s(n({},t),{user:{id:t.user?.id,email:i}})),c(fe,t=>s(n({},t),{user:null})));var ho={contact:null,status:"PENDING"},mi=E(ho,c(nt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(le,(t,{contact:i})=>s(n({},t),{contact:i,status:"SUCCESS"})),c(de,t=>s(n({},t),{status:"ERROR"})),c(me,(t,{email:i,telephone:e,whatsapp:r})=>s(n({},t),{contact:{email:i,telephone:e,whatsapp:r}})));var So={status:"PENDING",errors:null},gi=E(So,c(Fr,t=>s(n({},t),{status:"PENDING",errors:null})),c(Jt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Yt,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(Kt,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i}))),Ao={status:"PENDING",errors:null},hi=E(Ao,c(Pr,t=>s(n({},t),{status:"PENDING",errors:null})),c(Wt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Zt,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(Qt,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i}))),Co={status:"PENDING",errors:null},Si=E(Co,c(wr,t=>s(n({},t),{status:"PENDING",errors:null})),c(te,t=>s(n({},t),{status:"IN_PROGRESS"})),c(ee,t=>s(n({},t),{status:"SUCCESS",errors:null})),c(re,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i}))),Eo={status:"PENDING"},Ai=E(Eo,c(Mr,t=>s(n({},t),{status:"PENDING"})),c(ie,t=>s(n({},t),{status:"IN_PROGRESS"})),c(oe,t=>s(n({},t),{status:"SUCCESS"})),c(ne,t=>s(n({},t),{status:"ERROR"})));var vo={images:[]},Ci=E(vo,c(Cr,t=>s(n({},t),{images:[]})),c(Lt,(t,{image:i})=>s(n({},t),{images:[...t.images,i]})),c(Xt,(t,{key:i,link:e,index:r})=>{let o=JSON.parse(JSON.stringify(t.images));return o[r].fileKey=i,o[r].fileLink=e,o[r].status="SUCCESS",o[r].error=null,s(n({},t),{images:o})}),c(Bt,(t,{error:i,index:e})=>{let r=JSON.parse(JSON.stringify(t.images));return r[e].error=i,r[e].status="ERROR",s(n({},t),{images:r})}),c(Rr,(t,{index:i})=>{let e=JSON.parse(JSON.stringify(t.images));return e.splice(i,1),s(n({},t),{images:e})}));var Io={features:null,errors:null},Ei=E(Io,c(mr,t=>s(n({},t),{errors:null})),c(Gt,(t,{features:i})=>s(n({},t),{features:i})),c(Ht,(t,{errors:i})=>s(n({},t),{errors:i})));var Ro={offer:null,status:"PENDING",errors:null},vi=E(Ro,c(kt,t=>s(n({},t),{status:"IN_PROGRESS"})),c($t,(t,{offer:i})=>s(n({},t),{offer:i,status:"SUCCESS",errors:null})),c(Dt,(t,{errors:i})=>s(n({},t),{status:"ERROR",errors:i})));var Oo={meta:null,offers:[],status:"PENDING"},Ii=E(Oo,c(Vt,(t,{meta:i})=>s(n({},t),{meta:i})),c(zt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(qt,(t,{offers:i})=>s(n({},t),{offers:i,status:"SUCCESS"})));var xo={features:null,meta:null,offers:[],status:"PENDING"},Ri=E(xo,c(Ft,(t,{features:i})=>s(n({},t),{features:i})),c(Pt,(t,{meta:i})=>s(n({},t),{meta:i})),c(wt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Mt,(t,{offers:i})=>s(n({},t),{offers:i,status:"SUCCESS"}))),yo={articles:[],status:"PENDING"},Oi=E(yo,c(_t,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Ut,(t,{articles:i})=>s(n({},t),{articles:i,status:"SUCCESS"})),c(bt,t=>s(n({},t),{articles:[],status:"ERROR"})));var Fo={article:null,status:"PENDING"},xi=E(Fo,c(jt,t=>s(n({},t),{status:"IN_PROGRESS"})),c(Tt,(t,{article:i})=>s(n({},t),{article:i,status:"SUCCESS"})),c(Nt,t=>s(n({},t),{status:"ERROR"})));var yi={register:ci,registerConfirm:ai,login:pi,passwordForgotten:ui,resetPassword:li,user:di,contact:mi,settingsAccountEmail:gi,settingsAccountPassword:hi,settingsAccountContact:Si,settingsAccountDelete:Ai,imageUpload:Ci,newOfferFeatures:Ei,offer:vi,myOffers:Ii,search:Ri,articles:Oi,article:xi},Fi=[qr,Yr,Kr,Zr,ti,ei,ri,ii,ni,si];function Po(t){return new pe(t)}var Pi={providers:[He({eventCoalescing:!0}),tr(Vr),or(yi),Gr(Fi),Ke(),Ve(qe(),ze([Lr])),Te(J.forRoot({loader:{provide:nr,useFactory:Po,deps:[D]}}))]};var wo={providers:[We()]},wi=Le(Pi,wo);var Mo=()=>Je(Tr,wi),Wc=Mo;export{Wc as a};
