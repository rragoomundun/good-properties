import{a as $e,d as Ge,g as He,j as Le}from"./chunk-D3BPGQ3O.js";import{a as Be}from"./chunk-Q2W64253.js";import{a as qe,b as je}from"./chunk-HOFCTUWD.js";import{d as Ve,g as pe}from"./chunk-GMYNSWKF.js";import{a as De}from"./chunk-LBT6UJFI.js";import{a as ae,b as Oe,c as se,d as le,e as ce,f as j,g as Te,h as Pe,i as y,j as Re,k as Ae,l as ke,m as U,n as z,r as Ne,s as me,t as W}from"./chunk-J4PLBXGB.js";import{Aa as v,Ba as N,Ca as V,Da as B,Ea as r,Fa as a,Fb as H,Ga as m,Ha as $,Hb as we,Ib as Ie,Kb as Y,L as Z,Ma as D,N as ee,Na as u,Nb as P,Ob as R,Q as ve,S as E,T as te,Va as X,Vb as L,Wa as ne,Wb as q,Xa as Me,Ya as l,Z as O,Za as h,_ as T,_a as S,bb as oe,cb as b,da as g,db as M,eb as re,fb as ye,gb as Ee,hb as p,ia as ge,ib as d,ja as xe,jb as be,ka as Se,la as n,ma as I,sa as K,ua as C,ub as Fe,wa as c,ya as k,za as ie}from"./chunk-ECAXMYT4.js";function ct(t,s){if(t&1&&(m(0,"span"),l(1,"\xA0 ")),t&2){let e=u(2);ie(e.icon())}}function mt(t,s){if(t&1&&(r(0,"label",0),C(1,ct,2,2),r(2,"span"),l(3),p(4,"translate"),a()()),t&2){let e=u();n(),v(e.icon()?1:-1),n(2),h(d(4,2,e.label()))}}function pt(t,s){if(t&1&&(r(0,"div",4),l(1),p(2,"translate"),a()),t&2){let e=u();n(),S(" ",d(2,1,e.errorMin())," ")}}function dt(t,s){if(t&1&&(r(0,"div",4),l(1),p(2,"translate"),a()),t&2){let e=u();n(),S(" ",d(2,1,e.errorMax())," ")}}var ze=(()=>{class t{icon=g();label=g();idMin=g();formControlNameMin=g();errorMin=g();idMax=g();formControlNameMax=g();errorMax=g();_value="";onChange=()=>{};onTouched=()=>{};onInput(e){this._value=e,this.onChange(e)}onBlur(){this.onTouched()}writeValue(e){this._value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=E({type:t,selectors:[["app-input-min-max"]],inputs:{icon:[1,"icon"],label:[1,"label"],idMin:[1,"idMin"],formControlNameMin:[1,"formControlNameMin"],errorMin:[1,"errorMin"],idMax:[1,"idMax"],formControlNameMax:[1,"formControlNameMax"],errorMax:[1,"errorMax"]},standalone:!0,features:[oe([{provide:ae,useExisting:Z(()=>t),multi:!0}],[{provide:ce,useExisting:U}]),b],decls:12,vars:23,consts:[[1,"form-label"],["id","inputs"],[1,"input-group"],["type","number",1,"form-control",3,"id","min","placeholder","formControlName"],[1,"invalid-feedback"],[1,"ms-1","me-1"]],template:function(o,i){o&1&&(C(0,mt,5,4,"label",0),r(1,"div",1)(2,"div",2),m(3,"input",3),p(4,"translate"),C(5,pt,3,3,"div",4),a(),r(6,"div",5),l(7,"-"),a(),r(8,"div",2),m(9,"input",3),p(10,"translate"),C(11,dt,3,3,"div",4),a()()),o&2&&(v(i.label()?0:-1),n(2),k("has-validation",i.errorMin()),n(),k("is-invalid",i.errorMin()),c("id",i.idMin())("min",0)("placeholder",d(4,19,"MIN"))("formControlName",i.formControlNameMin()),n(2),v(i.errorMin()?5:-1),n(3),k("has-validation",i.errorMax()),n(),k("is-invalid",i.errorMax()),c("id",i.idMax())("min",0)("placeholder",d(10,21,"MAX"))("formControlName",i.formControlNameMax()),n(2),v(i.errorMax()?11:-1))},dependencies:[R,P,W,se,Ae,j,Ne,z],styles:["#inputs[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return t})();var ut=["input"],ft=["dropdown"];function ht(t,s){if(t&1&&(m(0,"span"),l(1,"\xA0 ")),t&2){let e=u();ie(e.icon())}}function _t(t,s){if(t&1&&(r(0,"div",5),l(1),p(2,"translate"),a()),t&2){let e=u();n(),S(" ",d(2,1,e.error())," ")}}function Ct(t,s){if(t&1){let e=$();r(0,"li",9),D("mouseover",function(){let i=O(e).$index,f=u(2);return T(f.onItemMouseOver(i))})("click",function(){O(e);let i=u(2);return T(i.onItemClick())}),l(1),a()}if(t&2){let e=s.$implicit,o=s.$index,i=u(2);k("selected",o===i.selected),n(),S(" ",e," ")}}function vt(t,s){if(t&1&&(r(0,"div",6,1)(2,"ul"),V(3,Ct,2,3,"li",8,N),a()()),t&2){let e=u();n(3),B(e.availableItems)}}function gt(t,s){if(t&1){let e=$();r(0,"div")(1,"div"),l(2),a(),r(3,"div")(4,"span",10),D("click",function(){let i=O(e).$index,f=u();return T(f.onDeleteItemClick(i))}),a()()()}if(t&2){let e=s.$implicit;n(2),h(e)}}var We=(()=>{class t{inputEl=K("input");dropdownEl=K("dropdown");id=g();icon=g();label=g();items=g();formControlName=g();control=g();error=g();availableItems;selectedItems;selected;_value="";onChange=()=>{};onTouched=()=>{};ngOnInit(){this.availableItems=[],this.selectedItems=[],this.selected=0,this.setDropdownWidth()}onInput(e){this._value=e,this.onChange(e)}onBlur(){this.onTouched()}writeValue(e){this._value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){}setDropdownWidth(){this.dropdownEl()&&(this.dropdownEl().nativeElement.style.width=`${this.inputEl().nativeElement.clientWidth}px`)}setValue(){this.selectedItems.includes(this.availableItems[this.selected])===!1&&this.selectedItems.push(this.availableItems[this.selected]),this.availableItems=[],this.selected=0,this.inputEl().nativeElement.value="",this.control().setValue("")}onWindowResize(){this.setDropdownWidth()}onDocumentClick(e){let o=this.inputEl().nativeElement.contains(e.target)===!1,i=this.dropdownEl()&&this.dropdownEl().nativeElement.contains(e.target)===!1;(o&&i||this.dropdownEl()===void 0&&o)&&(this.items().find(f=>f===this.inputEl().nativeElement.value)===void 0&&(this.inputEl().nativeElement.value=""),this.availableItems=[])}onInputKeyup(e){if(e.key!=="Enter"){let o=this.inputEl().nativeElement.value;o?this.availableItems=this.items().filter(i=>new RegExp(`^${o}`,"i").test(i)):this.availableItems=[],setTimeout(()=>this.setDropdownWidth())}}onInputKeydown(e){if(["ArrowUp","ArrowDown"].includes(e.key)&&e.preventDefault(),this.availableItems.length>0)switch(e.key){case"ArrowUp":if(this.selected>0){this.selected--;let o=document.querySelector("app-autocomplete-select-multiple #dropdown .selected");o.offsetTop-o.offsetHeight<this.dropdownEl().nativeElement.scrollTop&&this.dropdownEl().nativeElement.scrollTo(0,this.selected*o.offsetHeight)}break;case"ArrowDown":if(this.selected<this.availableItems.length-1){this.selected++;let o=document.querySelector("app-autocomplete-select-multiple #dropdown .selected");o.offsetTop+o.offsetHeight>this.dropdownEl().nativeElement.clientHeight&&this.dropdownEl().nativeElement.scrollTo(0,(this.selected-4)*o.offsetHeight)}break;case"Enter":this.setValue();break}}onItemClick(){this.setValue()}onItemMouseOver(e){this.selected=e}onDeleteItemClick(e){this.selectedItems.splice(e,1)}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=E({type:t,selectors:[["app-autocomplete-select-multiple"]],viewQuery:function(o,i){o&1&&(X(i.inputEl,ut,5),X(i.dropdownEl,ft,5)),o&2&&ne(2)},hostBindings:function(o,i){o&1&&D("resize",function(){return i.onWindowResize()},!1,xe)("click",function(_){return i.onDocumentClick(_)},!1,Se)},inputs:{id:[1,"id"],icon:[1,"icon"],label:[1,"label"],items:[1,"items"],formControlName:[1,"formControlName"],control:[1,"control"],error:[1,"error"]},standalone:!0,features:[oe([{provide:ae,useExisting:Z(()=>t),multi:!0}],[{provide:ce,useExisting:U}]),b],decls:13,vars:13,consts:[["input",""],["dropdown",""],[1,"form-label",3,"for"],[1,"input-group"],["type","text","autocomplete","off",1,"form-control",3,"keyup","keydown","id","formControlName"],[1,"invalid-feedback"],["id","dropdown"],["id","selected-items"],[3,"selected"],[3,"mouseover","click"],[1,"fa-solid","fa-times",3,"click"]],template:function(o,i){if(o&1){let f=$();r(0,"label",2),C(1,ht,2,2),r(2,"span"),l(3),p(4,"translate"),a()(),r(5,"div",3)(6,"input",4,0),D("keyup",function(F){return O(f),T(i.onInputKeyup(F))})("keydown",function(F){return O(f),T(i.onInputKeydown(F))}),a(),C(8,_t,3,3,"div",5),a(),C(9,vt,5,0,"div",6),r(10,"div",7),V(11,gt,5,1,"div",null,N),a()}o&2&&(c("for",i.id()),n(),v(i.icon()?1:-1),n(2),h(d(4,11,i.label())),n(2),k("has-validation",i.error()),n(),k("is-invalid",i.error()),c("id",i.id())("formControlName",i.formControlName()),n(2),v(i.error()?8:-1),n(),v(i.availableItems.length?9:-1),n(2),B(i.selectedItems))},dependencies:[R,P,W,se,j,z],styles:["#dropdown[_ngcontent-%COMP%]{position:absolute;z-index:10;border:1px solid #ccc;border-top:none;background-color:#fff;max-height:200px;overflow-y:scroll}#dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;list-style-type:none;padding:0}#dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem}#dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#ccc}#dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}#selected-items[_ngcontent-%COMP%]{display:flex;flex-flow:wrap;margin-top:.5rem;gap:.25rem}#selected-items[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;border:1px solid #ccc;padding:.25rem}#selected-items[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-of-type{margin-left:.25rem}#selected-items[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-of-type   span[_ngcontent-%COMP%]{font-size:.75rem}#selected-items[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-of-type   span[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return t})();var ue=t=>t.search,Qe=q(ue,t=>t.features),Ke=q(ue,t=>t.meta),Xe=q(ue,t=>t.offers),Ye=q(ue,t=>t.status),xt=t=>t.articles,Je=q(xt,t=>t.articles);var St=["citiesSelect"],Mt=()=>({value:"to-rent",text:"TO_RENT"}),yt=()=>({value:"to-sell",text:"TO_SELL"}),Et=(t,s)=>[t,s],bt=()=>({value:"house",text:"HOUSE"}),Ft=()=>({value:"apartment",text:"APARTMENT"}),wt=()=>({value:"room",text:"ROOM"}),It=(t,s,e)=>[t,s,e];function Ot(t,s){if(t&1&&(r(0,"div",25),m(1,"input",26),r(2,"label",27),l(3),a()()),t&2){let e=s.$implicit,o=s.$index,i=u(3);n(),c("id","general-feature-"+e.id)("formControl",i.getGeneralFeaturesControl(o)),n(),c("for","general-feature-"+e.id),n(),S(" ",e.name," ")}}function Tt(t,s){if(t&1&&(r(0,"div",24),V(1,Ot,4,4,"div",25,N),a()),t&2){let e=u(2);n(),B(e.features.general)}}function Pt(t,s){if(t&1&&(r(0,"div",25),m(1,"input",26),r(2,"label",27),l(3),a()()),t&2){let e=s.$implicit,o=s.$index,i=u(3);n(),c("id","general-feature-"+e.id)("formControl",i.getIndoorFeaturesControl(o)),n(),c("for","general-feature-"+e.id),n(),S(" ",e.name," ")}}function Rt(t,s){if(t&1&&(r(0,"div",24),V(1,Pt,4,4,"div",25,N),a()),t&2){let e=u(2);n(),B(e.features.indoor)}}function At(t,s){if(t&1&&(r(0,"div",25),m(1,"input",26),r(2,"label",27),l(3),a()()),t&2){let e=s.$implicit,o=s.$index,i=u(3);n(),c("id","general-feature-"+e.id)("formControl",i.getOutdoorFeaturesControl(o)),n(),c("for","general-feature-"+e.id),n(),S(" ",e.name," ")}}function kt(t,s){if(t&1&&(r(0,"div",24),V(1,At,4,4,"div",25,N),a()),t&2){let e=u(2);n(),B(e.features.outdoor)}}function Nt(t,s){if(t&1){let e=$();r(0,"div",19)(1,"h4",20),l(2),p(3,"translate"),a(),r(4,"button",21),D("click",function(){let i=O(e).$implicit;return T(i.dismiss("Cross click"))}),a()(),r(5,"div",22)(6,"form",6)(7,"div",7)(8,"div",8),m(9,"app-input",23),a(),r(10,"div",8),m(11,"app-input",23),a()(),m(12,"hr"),r(13,"h4"),l(14),p(15,"translate"),a(),r(16,"h5"),l(17),p(18,"translate"),a(),C(19,Tt,3,0,"div",24),r(20,"h5"),l(21),p(22,"translate"),a(),C(23,Rt,3,0,"div",24),r(24,"h5"),l(25),p(26,"translate"),a(),C(27,kt,3,0,"div",24),a()()}if(t&2){let e=u();n(2),S(" ",d(3,17,"MORE_FILTERS")," "),n(4),c("formGroup",e.searchForm),n(3),c("id","rooms-input")("label","ROOMS")("type","number")("formControlName","nbRooms"),n(2),c("id","bedrooms-input")("label","BEDROOMS")("type","number")("formControlName","nbBedrooms"),n(3),h(d(15,19,"FEATURES")),n(3),h(d(18,21,"GENERAL_FEATURES")),n(2),v(e.features?19:-1),n(2),h(d(22,23,"INDOOR_FEATURES")),n(2),v(e.features?23:-1),n(2),h(d(26,25,"OUTDOOR_FEATURES")),n(2),v(e.features?27:-1)}}var tt=(()=>{class t{store;router;activatedRoute;modalService=ve(Ve);autocompleteSelectMultipleComponent=K("citiesSelect");features$;features;searchForm;cities;constructor(e,o,i){this.store=e,this.router=o,this.activatedRoute=i,this.searchForm=new Pe({transactionType:new y("to-rent",[le.required]),typeOfGood:new y("house",[le.required]),cities:new y("",[le.required]),minPrice:new y(null),maxPrice:new y(null),minSquareMeters:new y(null),maxSquareMeters:new y(null),nbRooms:new y(null),nbBedrooms:new y(null),generalFeatures:new me([]),indoorFeatures:new me([]),outdoorFeatures:new me([])}),this.cities=pe.getCities(),this.features$=this.store.select(Qe),this.features$.subscribe(f=>{if(this.features=f,this.features){for(let _=0;_<this.features.general.length;_++)this.searchForm.controls.generalFeatures.push(new y(!1));for(let _=0;_<this.features.indoor.length;_++)this.searchForm.controls.indoorFeatures.push(new y(!1));for(let _=0;_<this.features.outdoor.length;_++)this.searchForm.controls.outdoorFeatures.push(new y(!1))}})}get isFormValid(){return this.autocompleteSelectMultipleComponent().selectedItems.length>0}ngOnInit(){this.store.dispatch($e()),this.activatedRoute.queryParams.subscribe(e=>{Object.keys(e).length===0?this.initControls():this.setControls()})}initControls(){this.searchForm.controls.transactionType.setValue("to-rent"),this.searchForm.controls.typeOfGood.setValue("house"),this.searchForm.controls.cities.setValue(""),this.autocompleteSelectMultipleComponent().selectedItems=[],this.searchForm.controls.minPrice.setValue(null),this.searchForm.controls.maxPrice.setValue(null),this.searchForm.controls.minSquareMeters.setValue(null),this.searchForm.controls.maxSquareMeters.setValue(null),this.searchForm.controls.nbRooms.setValue(null),this.searchForm.controls.nbBedrooms.setValue(null);for(let e of this.searchForm.controls.generalFeatures.controls)e.setValue(!1);for(let e of this.searchForm.controls.indoorFeatures.controls)e.setValue(!1);for(let e of this.searchForm.controls.outdoorFeatures.controls)e.setValue(!1)}setControls(){let{queryParams:e}=this.activatedRoute.snapshot;if(e.type_of_good&&this.searchForm.controls.typeOfGood.setValue(e.type_of_good),e.transaction_type&&this.searchForm.controls.transactionType.setValue(e.transaction_type),e.city_ids){let o=e.city_ids.split(",");this.autocompleteSelectMultipleComponent().selectedItems=[],setTimeout(()=>{for(let i of o)this.autocompleteSelectMultipleComponent().selectedItems.push(pe.getNameFromCityId(Number(i)))})}e.min_price&&this.searchForm.controls.minPrice.setValue(e.min_price),e.max_price&&this.searchForm.controls.maxPrice.setValue(e.max_price),e.min_square_meters&&this.searchForm.controls.minSquareMeters.setValue(e.min_square_meters),e.max_square_meters&&this.searchForm.controls.maxSquareMeters.setValue(e.max_square_meters),e.nb_rooms&&this.searchForm.controls.nbRooms.setValue(e.nb_rooms),e.nb_bedrooms&&this.searchForm.controls.nbBedrooms.setValue(e.nb_bedrooms),this.features$.subscribe(()=>{if(this.features&&e.features){let i=this.features.general.length,f=i+1,_=f+this.features.indoor.length-1,F=e.features.split(",");for(let Q of F){let w=Number(Q);w>=1&&w<=i?this.getGeneralFeaturesControl(w-1).setValue(!0):w>=f&&w<=_?this.getIndoorFeaturesControl(w-this.features.general.length-this.features.indoor.length-1).setValue(!0):this.getOutdoorFeaturesControl(w-this.features.general.length-this.features.indoor.length-this.features.outdoor.length-1).setValue(!0)}}})}getGeneralFeaturesControl(e){return this.searchForm.controls.generalFeatures.at(e)}getIndoorFeaturesControl(e){return this.searchForm.controls.indoorFeatures.at(e)}getOutdoorFeaturesControl(e){return this.searchForm.controls.outdoorFeatures.at(e)}onMoreFiltersClick(e){this.modalService.open(e,{size:"lg"})}onSearchClick(){let{typeOfGood:e,transactionType:o,minPrice:i,maxPrice:f,minSquareMeters:_,maxSquareMeters:F,nbRooms:Q,nbBedrooms:w,generalFeatures:at,indoorFeatures:st,outdoorFeatures:lt}=this.searchForm.value,Ce=[],J=[],A={type_of_good:e,transaction_type:o};for(let x of this.autocompleteSelectMultipleComponent().selectedItems)Ce.push(pe.getCityIdFromName(x));if(A.city_ids=Ce.join(","),i&&i>0&&(A.min_price=i),f&&f>0&&(A.max_price=f),_&&_>0&&(A.min_square_meters=_),F&&F>0&&(A.max_square_meters=F),Q&&Q>0&&(A.nb_rooms=Q),w&&w>0&&(A.nb_bedrooms=w),at.includes(!0)||st.includes(!0)||lt.includes(!0)){for(let x=0;x<this.features.general.length;x++)this.getGeneralFeaturesControl(x).value&&J.push(this.features.general[x].id);for(let x=0;x<this.features.indoor.length;x++)this.getIndoorFeaturesControl(x).value&&J.push(this.features.indoor[x].id);for(let x=0;x<this.features.outdoor.length;x++)this.getOutdoorFeaturesControl(x).value&&J.push(this.features.outdoor[x].id);A.features=J.join(",")}this.router.navigate(["/"],{queryParams:A})}static \u0275fac=function(o){return new(o||t)(I(L),I(we),I(H))};static \u0275cmp=E({type:t,selectors:[["app-search-form"]],viewQuery:function(o,i){o&1&&X(i.autocompleteSelectMultipleComponent,St,5),o&2&&ne()},standalone:!0,features:[b],decls:34,vars:43,consts:[["citiesSelect",""],["moreFiltersModal",""],["id","search-container"],["id","main-container"],["id","search",1,"card"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-12","col-sm-6","mb-3"],[3,"id","label","options","formControlName"],[1,"col-12","mb-3"],[3,"id","label","items","formControlName","control"],[3,"label","idMin","formControlNameMin","idMax","formControlNameMax"],[1,"col"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa-solid","fa-sliders"],[1,"col","text-end"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fa-solid","fa-magnifying-glass"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"id","label","type","formControlName"],[1,"app-features","mb-3"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","formControl"],[3,"for"]],template:function(o,i){if(o&1){let f=$();r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"form",6)(5,"div",7)(6,"div",8),m(7,"app-select",9),a(),r(8,"div",8),m(9,"app-select",9),a()(),r(10,"div",7)(11,"div",10),m(12,"app-autocomplete-select-multiple",11,0),a()(),r(14,"div",7)(15,"div",8),m(16,"app-input-min-max",12),a(),r(17,"div",8),m(18,"app-input-min-max",12),a()(),r(19,"div",7)(20,"div",13)(21,"button",14),D("click",function(){O(f);let F=Me(33);return T(i.onMoreFiltersClick(F))}),m(22,"span",15),l(23),p(24,"translate"),a()(),r(25,"div",16)(26,"button",17),D("click",function(){return O(f),T(i.onSearchClick())}),m(27,"span",18),l(28," \xA0 "),r(29,"span"),l(30),p(31,"translate"),a()()()()()()()()(),C(32,Nt,28,27,"ng-template",null,1,be)}o&2&&(n(4),c("formGroup",i.searchForm),n(3),c("id","action-select")("label","ACTION")("options",ye(33,Et,M(31,Mt),M(32,yt)))("formControlName","transactionType"),n(2),c("id","type-of-good-select")("label","TYPE_OF_GOOD")("options",Ee(39,It,M(36,bt),M(37,Ft),M(38,wt)))("formControlName","typeOfGood"),n(3),c("id","cities-input")("label","CITIES")("items",i.cities)("formControlName","cities")("control",i.searchForm.get("cities")),n(4),c("label","PRICE")("idMin","min-price-input")("formControlNameMin","minPrice")("idMax","max-price-input")("formControlNameMax","maxPrice"),n(2),c("label","SQUARE_METERS")("idMin","min-square-meters-input")("formControlNameMin","minSquareMeters")("idMax","max-square-meters-input")("formControlNameMax","maxSquareMeters"),n(5),S(" \xA0 ",d(24,27,"MORE_FILTERS")," "),n(3),c("disabled",i.isFormValid===!1),n(4),h(d(31,29,"SEARCH")))},dependencies:[W,Re,Oe,j,Te,ke,U,z,R,P,Be,De,ze,We],styles:["#search-container[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-image:url(/assets/images/houses2.jpg)}#search-container[_ngcontent-%COMP%]   #main-container[_ngcontent-%COMP%]{padding:2rem 0}"]})}return t})();var he=()=>["/"],Vt=()=>({type_of_good:"apartment",transaction_type:"to-rent",city_ids:67857}),Bt=()=>({type_of_good:"room",transaction_type:"to-rent",city_ids:67895}),Dt=()=>({type_of_good:"house",transaction_type:"to-rent",city_ids:67865}),_e=t=>["article",t];function $t(t,s){if(t&1&&(r(0,"div",4)(1,"div",5)(2,"a",6),m(3,"img",7),a()(),r(4,"div",8),m(5,"br",9),r(6,"h3")(7,"a",6),l(8),a()(),r(9,"p")(10,"a",6),l(11),a()()()()),t&2){let e=s.$implicit;n(2),c("routerLink",re(6,_e,e.id)),n(),c("src",e.image,ge),n(4),c("routerLink",re(8,_e,e.id)),n(),S(" ",e.title," "),n(2),c("routerLink",re(10,_e,e.id)),n(),S(" ",e.content," ")}}var it=(()=>{class t{store;articles$;articles;constructor(e){this.store=e,this.store.dispatch(Le()),this.articles$=this.store.select(Je),this.articles$.subscribe(o=>this.articles=o)}static \u0275fac=function(o){return new(o||t)(I(L))};static \u0275cmp=E({type:t,selectors:[["app-search-home"]],standalone:!0,features:[b],decls:31,vars:33,consts:[["id","main-container",1,"main-container-top-margin"],["id","search-examples"],[3,"routerLink","queryParams"],["id","articles"],[1,"row","mb-3"],[1,"col-12","col-sm-4"],[3,"routerLink"],["alt","",3,"src"],[1,"col-12","col-sm-8"],[1,"d-sm-none"]],template:function(o,i){o&1&&(r(0,"div",0)(1,"h1"),l(2),p(3,"translate"),a(),m(4,"br"),r(5,"p"),l(6),p(7,"translate"),a(),r(8,"h2"),l(9),p(10,"translate"),a(),r(11,"div",1)(12,"a",2)(13,"h5"),l(14),p(15,"translate"),a()(),r(16,"a",2)(17,"h5"),l(18),p(19,"translate"),a()(),r(20,"a",2)(21,"h5"),l(22),p(23,"translate"),a()()(),m(24,"br"),r(25,"h2"),l(26),p(27,"translate"),a(),r(28,"div",3),V(29,$t,12,12,"div",4,N),a()()),o&2&&(n(2),h(d(3,13,"PAGES.HOME.WELCOME")),n(4),h(d(7,15,"PAGES.HOME.INTRO")),n(3),h(d(10,17,"PAGES.HOME.SEARCH_EXAMPLES")),n(3),c("routerLink",M(27,he))("queryParams",M(28,Vt)),n(2),h(d(15,19,"PAGES.HOME.APARTMENT_EBENE")),n(2),c("routerLink",M(29,he))("queryParams",M(30,Bt)),n(2),h(d(19,21,"PAGES.HOME.ROOMS_PORT_LOUIS")),n(2),c("routerLink",M(31,he))("queryParams",M(32,Dt)),n(2),h(d(23,23,"PAGES.HOME.HOUSES_GRAND_GAUBE")),n(4),h(d(27,25,"PAGES.HOME.ARTICLES")),n(3),B(i.articles))},dependencies:[R,P,Y,Ie],styles:["h1[_ngcontent-%COMP%]{text-align:center}#search-examples[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem}#search-examples[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:250px;color:#fff;background-color:#999;box-shadow:0 0 5px #333;text-decoration:none;width:100%;background-repeat:no-repeat;background-size:cover}@media only screen and (min-width: 375px){#search-examples[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:48%}}@media only screen and (min-width: 576px){#search-examples[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:31%}}#search-examples[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-shadow:2px 2px 0px #333;margin-top:auto;margin-left:.5rem}#search-examples[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(1){background-image:url(/assets/images/ebene.jpg)}#search-examples[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(2){background-image:url(/assets/images/port-louis.jpg)}#search-examples[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(3){background-image:url(/assets/images/grand-gaube.jpg)}#articles[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;box-shadow:0 0 5px #333}#articles[_ngcontent-%COMP%]   .col-12.col-sm-8[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit!important;text-decoration:none}"]})}return t})();function Gt(t,s){t&1&&(r(0,"div",1),m(1,"span",2),a())}function Ht(t,s){t&1&&(r(0,"p"),l(1),p(2,"translate"),a()),t&2&&(n(),h(d(2,1,"PAGES.SEARCH_RESULTS.NO_OFFERS")))}function Lt(t,s){if(t&1&&m(0,"app-offer",3),t&2){let e=u(2);c("offers",e.offers)}}function qt(t,s){if(t&1&&m(0,"br")(1,"app-pagination",4),t&2){let e=u(2);n(),c("nbPages",e.meta.nb_pages)}}function jt(t,s){if(t&1&&C(0,Ht,3,3,"p")(1,Lt,1,1,"app-offer",3)(2,qt,2,1),t&2){let e=u();v(e.status==="SUCCESS"&&e.offers.length===0?0:1),n(2),v(e.meta&&e.meta.nb_pages?2:-1)}}var nt=(()=>{class t{store;activatedRoute;meta$;offers$;status$;meta;offers;status;constructor(e,o){this.store=e,this.activatedRoute=o,this.activatedRoute.root.queryParams.subscribe(i=>{this.store.dispatch(Ge({transactionType:i.transaction_type,typeOfGood:i.type_of_good,cityIds:i.city_ids,minPrice:i.min_price,maxPrice:i.max_price,minSquareMeters:i.min_square_meters,maxSquareMeters:i.max_square_meters,nbRooms:i.nb_rooms,nbBedrooms:i.nb_bedrooms,features:i.features})),this.store.dispatch(He({transactionType:i.transaction_type,typeOfGood:i.type_of_good,cityIds:i.city_ids,minPrice:i.min_price,maxPrice:i.max_price,minSquareMeters:i.min_square_meters,maxSquareMeters:i.max_square_meters,nbRooms:i.nb_rooms,nbBedrooms:i.nb_bedrooms,features:i.features,page:i.page}))}),this.meta$=this.store.select(Ke),this.offers$=this.store.select(Xe),this.status$=this.store.select(Ye),this.meta$.subscribe(i=>this.meta=i),this.offers$.subscribe(i=>this.offers=i),this.status$.subscribe(i=>this.status=i)}static \u0275fac=function(o){return new(o||t)(I(L),I(H))};static \u0275cmp=E({type:t,selectors:[["app-search-results"]],standalone:!0,features:[b],decls:3,vars:1,consts:[["id","main-container",1,"main-container-top-margin"],[1,"text-center"],[1,"fa-solid","fa-spinner","fa-spin","fa-2x"],[3,"offers"],[3,"nbPages"]],template:function(o,i){o&1&&(r(0,"div",0),C(1,Gt,2,0,"div",1)(2,jt,3,2),a()),o&2&&(n(),v(i.status==="IN_PROGRESS"?1:2))},dependencies:[R,P,qe,je]})}return t})();function Ut(t,s){t&1&&m(0,"app-search-results")}function zt(t,s){t&1&&m(0,"app-search-home")}var ot=(()=>{class t{activatedRoute;displaySearchResults;constructor(e){this.activatedRoute=e}ngAfterViewInit(){this.activatedRoute.root.queryParams.subscribe(e=>{this.displaySearchResults=e.type_of_good&&e.transaction_type&&e.city_ids})}static \u0275fac=function(o){return new(o||t)(I(H))};static \u0275cmp=E({type:t,selectors:[["app-search"]],standalone:!0,features:[b],decls:3,vars:1,template:function(o,i){o&1&&(m(0,"app-search-form"),C(1,Ut,1,0,"app-search-results")(2,zt,1,0,"app-search-home")),o&2&&(n(),v(i.displaySearchResults?1:2))},dependencies:[tt,it,nt]})}return t})();var Wt=[{path:"",component:ot,data:{title:"TITLE"}}],rt=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=te({type:t});static \u0275inj=ee({imports:[Y.forChild(Wt),Y]})}return t})();var Bi=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=te({type:t});static \u0275inj=ee({imports:[Fe,rt]})}return t})();export{Bi as SearchModule};
